{"version":3,"sources":["components/image sync /^.*$","components/image/imageAssets/ancestral-map.jpg","components/image/imageAssets/portraits.jpg","constants.js","components/svg/ShadowFilter.js","utils.js","components/clip/animate.js","components/clip/ClipPath.js","components/clip/ImageClip.js","components/clip/ClipLabel.js","components/main/Record.js","components/main/Graphic.js","components/main/App.js","copy.js","serviceWorker.js","index.js","components/image/Image.js","components/image/ImageVeil.js","components/image/index.js"],"names":["map",".","./","./Image","./Image.js","./ImageVeil","./ImageVeil.js","./imageAssets/ancestral-map.jpg","./imageAssets/portraits.jpg","./index","./index.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","p","makeIdStore","ids","graphicId","uuidv4","clipId","imageId","ShadowFilter","react_default","a","createElement","height","in","stdDeviation","dx","dy","result","type","slope","areEqualShallow","b","length","every","key","hasOwnProperty","animate","WrappedComponent","_Component","AnimatedComponent","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","x","y","inherits","createClass","value","prevProps","_this2","dims","props","_prevProps$dims","pX","pY","_prevProps$dims$width","width","pWidth","_prevProps$dims$heigh","pHeight","_this$props$dims","_this$props$dims$widt","_this$props$dims$heig","interpolateX","interpolateNumber","interpolateY","interpolateW","interpolateH","start","window","requestAnimationFrame","updateDims","timestamp","elapsed","t","setState","assign","objectSpread","Component","_ref","rx","ry","ImageClip","xlinkHref","clipPath","font","styles","frontText","fill","transitionDuration","backText","stroke","strokeWidth","opacity","strokeLinejoin","strokeLinecap","AnimatedLabel","injectSheet","classes","text","_ref$dims","objectWithoutProperties","transform","react","className","ClipLabel","_ref2","clipDims","ASPECT_RATIO","margin","top","right","bottom","left","Record","leftImgX","rightImgX","imgY","imgWidth","imgHeight","updateDimensions","document","body","clientWidth","setTimeout","innerHeight","_this$state","_this$props","leftImg","rightImg","_this$props$clip","clip","clipLabel","imgDims","leftX","rightX","clipFracs","w","h","calculateClipDims","svg_ShadowFilter","clip_ClipPath","style","filter","components_image","name","leftSide","clip_ImageClip","clip_ClipLabel","Graphic","onStepEnter","_ref$data","data","steps","sticky","main_Record","react_scrollama_lib","offset","step","stepText","PureComponent","marginBottom","position","padding","backgroundColor","boxShadow","maxWidth","&:last-child","textAlign","color","fontSize","fontFamily","fontWeight","lineHeight","graphics","archieml","load","processSteps","App","marginTop","_ref3","main_Graphic","Boolean","location","hostname","match","ReactDOM","render","main_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Image","_ref$leftSide","require","react_jss__WEBPACK_IMPORTED_MODULE_1__","react_jss__WEBPACK_IMPORTED_MODULE_1___default","mask","fillOpacity","_Image__WEBPACK_IMPORTED_MODULE_0__","d","_ImageVeil__WEBPACK_IMPORTED_MODULE_1__"],"mappings":"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","file":"static/js/main.3bbd96c8.chunk.js","sourcesContent":["var map = {\n\t\".\": 4,\n\t\"./\": 4,\n\t\"./Image\": 20,\n\t\"./Image.js\": 20,\n\t\"./ImageVeil\": 21,\n\t\"./ImageVeil.js\": 21,\n\t\"./imageAssets/ancestral-map.jpg\": 120,\n\t\"./imageAssets/portraits.jpg\": 121,\n\t\"./index\": 4,\n\t\"./index.js\": 4\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 119;","module.exports = __webpack_public_path__ + \"static/media/ancestral-map.d04420a2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/portraits.c29e8623.jpg\";","import uuidv4 from 'uuid/v4';\n\nconst makeIdStore = () => {\n  const ids = {};\n  return graphicId => {\n    if (!(graphicId in ids))\n      return ids[graphicId] = uuidv4();\n    return ids[graphicId];\n  }\n};\nexport const clipId = makeIdStore();\nexport const imageId = makeIdStore();\n\nexport const shadowId = 'drop-shadow-filter';\n","import React from 'react';\nimport { shadowId } from '../../constants';\n\n// Adapted from https://stackoverflow.com/questions/6088409/svg-drop-shadow-using-css3\nconst ShadowFilter = () => (\n  <filter id={shadowId} height=\"130%\">\n    <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"7\" />\n    <feOffset dx=\"1\" dy=\"8\" result=\"offsetblur\" />\n    <feComponentTransfer>\n      <feFuncA type=\"linear\" slope=\"0.5\" />\n    </feComponentTransfer>\n    <feMerge>\n      <feMergeNode />\n      <feMergeNode in=\"SourceGraphic\" />\n    </feMerge>\n  </filter>\n);\n\nexport default ShadowFilter;\n","export const calculateClipDims = (imgDims, clipFracs) => {\n  const { leftX, y, width, height } = imgDims;\n  const { x: fracX, y: fracY, w: fracW, h: fracH } = clipFracs;\n  return {\n    x: leftX + fracX * width,\n    y: y + fracY * width,\n    width: fracW * width,\n    height: fracH * height,\n  };\n};\n\nexport const areEqualShallow = (a, b) =>\n  Object.keys(a).length === Object.keys(b).length &&\n  Object.keys(a).every(key => b.hasOwnProperty(key) && a[key] === b[key]);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { interpolateNumber } from 'd3-interpolate';\nimport { areEqualShallow } from '../../utils';\n\nconst ANIM_DURATION = 300;\n\nconst animate = WrappedComponent => {\n  class AnimatedComponent extends Component {\n    state = {\n      x: 0,\n      y: 0,\n    };\n\n    componentDidUpdate(prevProps) {\n      if (areEqualShallow(prevProps.dims, this.props.dims)) return;\n\n      const {\n        dims: { x: pX, y: pY, width: pWidth = 0, height: pHeight = 0 },\n      } = prevProps;\n      const { dims: { x, y, width = 0, height = 0 } } = this.props;\n\n      const interpolateX = interpolateNumber(pX, x);\n      const interpolateY = interpolateNumber(pY, y);\n      const interpolateW = interpolateNumber(pWidth, width);\n      const interpolateH = interpolateNumber(pHeight, height);\n\n      let start = null;\n      const updateDims = timestamp => {\n        const elapsed = timestamp - (start || (start = timestamp));\n        if (elapsed < ANIM_DURATION) {\n          const t = elapsed / ANIM_DURATION;\n          this.setState({\n            x: interpolateX(t),\n            y: interpolateY(t),\n            width: interpolateW(t),\n            height: interpolateH(t),\n          });\n          window.requestAnimationFrame(updateDims);\n        } else {\n          this.setState({ x, y, width, height });\n        }\n      };\n\n      window.requestAnimationFrame(updateDims);\n    }\n\n    render() {\n      return (\n        <WrappedComponent\n          {...this.props}\n          dims={{ ...this.props.dims, ...this.state }}\n        />\n      );\n    }\n  }\n\n  AnimatedComponent.propTypes = {\n    dims: PropTypes.exact({\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired,\n      width: PropTypes.number,\n      height: PropTypes.number,\n    }).isRequired,\n  };\n\n  return AnimatedComponent;\n};\n\nexport default animate;\n","import React from 'react';\nimport animate from './animate';\nimport { clipId } from '../../constants';\n\nconst CORNER_RADIUS = 3;\n\nconst ClipPath = ({ graphicId, dims }) => (\n  <clipPath id={clipId(graphicId)}>\n    <rect {...dims} rx={CORNER_RADIUS} ry={CORNER_RADIUS} />\n  </clipPath>\n);\n\nexport default animate(ClipPath);\n","import React from 'react';\nimport { clipId, imageId } from '../../constants';\n\nconst ImageClip = ({ graphicId }) => (\n  <use\n    xlinkHref={`#${imageId(graphicId)}`}\n    clipPath={`url(#${clipId(graphicId)})`}\n  />\n);\n\nexport default ImageClip;\n","import React, { Fragment } from 'react';\nimport injectSheet from 'react-jss';\nimport animate from './animate';\n\nconst font = '500 1rem \"Atlas Grotesk\"';\nconst styles = {\n  frontText: {\n    font,\n    fill: '#fff',\n    transitionDuration: '0.3s',\n  },\n  backText: {\n    font,\n    stroke: '#333',\n    strokeWidth: 2,\n    opacity: 0.8,\n    strokeLinejoin: 'round',\n    strokeLinecap: 'round',\n  },\n};\n\nconst Label = ({\n  classes,\n  text,\n  dims: { width, height, ...dims },\n  transform,\n}) => (\n  <Fragment>\n    <text className={classes.backText} {...dims}>\n      {text}\n    </text>\n    <text className={classes.frontText} {...dims}>\n      {text}\n    </text>\n  </Fragment>\n);\nconst AnimatedLabel = animate(injectSheet(styles)(Label));\n\nconst ClipLabel = ({ classes, clipDims, text }) => {\n  const { x, y, height } = clipDims;\n  const dims = { x, y };\n  if (y > 12) {\n    dims.y -= 10;\n  } else {\n    dims.y += height + 6;\n  }\n\n  return <AnimatedLabel dims={dims} text={text} />;\n};\n\nexport default ClipLabel;\n","import React, { Component } from 'react';\n\nimport { ShadowFilter } from '../svg';\nimport { Image, ImageVeil } from '../image';\nimport { ClipPath, ImageClip, ClipLabel } from '../clip';\n\nimport { imageId, shadowId } from '../../constants';\nimport { calculateClipDims } from '../../utils';\n\nconst ASPECT_RATIO = 1504 / 1024;\nconst margin = { top: 20, right: 20, bottom: 24, left: 20 };\n\nclass Record extends Component {\n  state = {\n    height: null,\n\n    leftImgX: null,\n    rightImgX: null,\n    imgY: null,\n    imgWidth: null,\n    imgHeight: null,\n  };\n\n  componentDidMount() {\n    setTimeout(() => {\n      // hacky way to wait for document.body.clientWidth to account for scrollbar\n      this.updateDimensions();\n    }, 0);\n\n    const height = window.innerHeight;\n    this.setState({ height, imgHeight: height - margin.top - margin.bottom });\n  }\n\n  updateDimensions = () => {\n    const width = document.body.clientWidth;\n    const imgWidth = this.state.imgHeight / ASPECT_RATIO;\n\n    this.setState({\n      leftImgX: width / 2 - imgWidth,\n      rightImgX: width / 2,\n      imgY: margin.top,\n      imgWidth,\n    });\n  };\n\n  render() {\n    const {\n      height,\n      leftImgX,\n      rightImgX,\n      imgY,\n      imgWidth,\n      imgHeight,\n    } = this.state;\n    const {\n      graphicId,\n      leftImg,\n      rightImg,\n      clip: { clipLabel, ...clipFracs },\n    } = this.props;\n\n    const imgDims = {\n      leftX: leftImgX,\n      rightX: rightImgX,\n      y: imgY,\n      width: imgWidth,\n      height: imgHeight,\n    };\n    const clipDims = calculateClipDims(imgDims, clipFracs);\n\n    return (\n      <svg width={document.body.clientWidth} height={height}>\n        <ShadowFilter />\n        <defs>\n          <ClipPath dims={clipDims} graphicId={graphicId} />\n        </defs>\n\n        <g id={imageId(graphicId)} style={{ filter: `url(#${shadowId})` }}>\n          <Image dims={imgDims} name={leftImg} leftSide />\n          <Image dims={imgDims} name={rightImg} />\n        </g>\n        <ImageVeil dims={imgDims} />\n\n        <ImageClip graphicId={graphicId} />\n        <ClipLabel clipDims={clipDims} text={clipLabel} />\n      </svg>\n    );\n  }\n}\n\nexport default Record;\n","import React, { PureComponent } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\nimport injectSheet from 'react-jss';\nimport Record from './Record';\nimport { areEqualShallow } from '../../utils';\n\nconst styles = {\n  Graphic: {\n    marginBottom: '70vh',\n  },\n  sticky: {\n    position: 'sticky',\n    // position: '-webkit-sticky',\n    top: 0,\n  },\n  steps: {\n    padding: '0 5vw 130vh 5vw',\n  },\n  step: {\n    position: 'relative',\n    backgroundColor: '#fff',\n    boxShadow: '0 5px 15px 0 rgba(0,0,0,0.41)',\n    margin: '0 auto 70vh auto',\n    maxWidth: '500px',\n    '&:last-child': {\n      marginBottom: 0,\n    },\n  },\n  stepText: {\n    textAlign: 'center',\n    color: '#222',\n    padding: '1rem',\n    fontSize: '1.1rem',\n    fontFamily: 'Merriweather',\n    fontWeight: 400,\n    lineHeight: '1.9rem',\n  },\n};\n\nclass Graphic extends PureComponent {\n  state = {\n    clip: { clipLabel: '', x: 0, y: 0, w: 0, h: 0 },\n  };\n\n  onStepEnter = ({ data: { text, ...clip } }) => {\n    if (!areEqualShallow(this.state.clip, clip)) {\n      this.setState({ clip });\n    }\n  };\n\n  render() {\n    const { clip } = this.state;\n    const { classes, id, leftImg, rightImg, steps } = this.props;\n\n    return (\n      <div className={classes.Graphic}>\n        <figure className={classes.sticky}>\n          <Record\n            graphicId={id}\n            leftImg={leftImg}\n            rightImg={rightImg}\n            clip={clip}\n          />\n        </figure>\n        <article className={classes.steps}>\n          <Scrollama onStepEnter={this.onStepEnter} offset={0.33}>\n            {steps.map(data => (\n              <Step key={data.text} data={data}>\n                <div className={classes.step}>\n                  <p className={classes.stepText}>{data.text}</p>\n                </div>\n              </Step>\n            ))}\n          </Scrollama>\n        </article>\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(styles)(Graphic);\n","import React from 'react';\nimport archieml from 'archieml';\nimport injectSheet from 'react-jss';\nimport uuidv4 from 'uuid/v4';\nimport Graphic from './Graphic';\n\nimport copy from '../../copy';\nconst graphics = archieml.load(copy).graphics;\n\nconst processSteps = steps =>\n  steps.map(({ text, x, y, w, h, clipLabel }) => ({\n    text,\n    x: +x,\n    y: +y,\n    w: +w,\n    h: +h,\n    clipLabel,\n  }));\n\nconst styles = {\n  App: {\n    marginTop: '70vh',\n  },\n};\n\nconst App = ({ classes }) => (\n  <div className={classes.App}>\n    {graphics.map(({ leftImg, rightImg, steps }) => {\n      const id = uuidv4();\n      return (\n        <Graphic\n          key={id}\n          id={id}\n          leftImg={leftImg}\n          rightImg={rightImg}\n          steps={processSteps(steps)}\n        />\n      );\n    })}\n  </div>\n);\n\nexport default injectSheet(styles)(App);\n","export default `\n[graphics]\n\nleftImg: ancestral-map.jpg\nrightImg: portraits.jpg\n\n[.steps]\n\ntext: I was joining the ranks of millions of American who have dug into their personal histories.\nx: 0.5\ny: 0.5\nw: 0.4\nh: 0.4\nclipLabel: Ancestral map\n\ntext: The popular 1976 miniseries Roots had launched a genealogy craze that swept across the continent and sent many on a quest to find their family roots.\nx: 0.5\ny: 0.5\nw: 0.5\nh: 0.6\nclipLabel: Family portrait\n\ntext: In recent years, genetic biology has become increasingly important in the story arc of American popular genealogy.\nx: 1.6\ny: 0.1\nw: 0.3\nh: 0.7\nclipLabel: Great poem\n\n[]\n\nleftImg: portraits.jpg\nrightImg: ancestral-map.jpg\n\n[.steps]\n\ntext: The Fulton Center looks like where they launch rockets from Kennedy Space Center.\nx: 0.5\ny: 0.5\nw: 0.4\nh: 0.4\nclipLabel: Clip label\n\ntext: Are whiteboards with glass on them really whiteboards? They\\u2019re pretty sick though.\nx: 0.5\ny: 0.5\nw: 0.5\nh: 0.6\nclipLabel: My glasses\n\ntext: In recent years, genetic biology has become increasingly important in the story arc of American popular genealogy.\nx: 1.6\ny: 0.1\nw: 0.3\nh: 0.7\nclipLabel: Fell :(\n\n[]\n\n{}\n`;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/main';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\n\nconst IMGDIR = './imageAssets';\n\nconst Image = ({ dims, name, leftSide = false }) => {\n  const { leftX, rightX, y, width, height } = dims;\n\n  return (\n    <image\n      x={leftSide ? leftX : rightX}\n      y={y}\n      width={width}\n      height={height}\n      xlinkHref={require(`${IMGDIR}/${name}`)}\n    />\n  );\n};\n\nexport default Image;\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  mask: {\n    fill: '#000',\n    fillOpacity: 0.35,\n  },\n};\n\nconst ImageVeil = ({ classes, dims }) => {\n  const { leftX, y, width, height } = dims;\n  return (\n    <rect\n      className={classes.mask}\n      x={leftX}\n      y={y}\n      width={2 * width}\n      height={height}\n    />\n  );\n};\n\nexport default injectSheet(styles)(ImageVeil);\n","export { default as Image } from './Image';\nexport { default as ImageVeil } from './ImageVeil';\n"],"sourceRoot":""}