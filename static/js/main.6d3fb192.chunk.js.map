{"version":3,"sources":["components/image sync /^.*$","components/image/imageAssets/ancestral-map.jpg","components/image/imageAssets/poem.jpg","components/image/imageAssets/portraits.jpg","components/image/imageAssets/women.jpg","components/content/images/PortraitOfYuanTungLi.jpg","components/content/images/FairbankLetter.jpg","utils.js","constants.js","components/svg/ShadowFilter.js","components/clip/ClipPath.js","components/clip/fadeMovement.js","components/clip/ImageClip.js","components/main/Record.js","components/main/Graphic.js","components/content/Paragraph.js","components/content/Image.js","components/content/Content.js","components/content/ContentBreak.js","components/main/App.js","copy.js","serviceWorker.js","index.js","components/image/Image.js","components/image/ImageVeil.js","components/image/index.js"],"names":["map",".","./","./Image","./Image.js","./ImageVeil","./ImageVeil.js","./imageAssets/ancestral-map.jpg","./imageAssets/poem.jpg","./imageAssets/portraits.jpg","./imageAssets/women.jpg","./index","./index.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","p","createIdStore","ids","graphicId","uuidv4","areEqualShallow","a","b","length","every","key","hasOwnProperty","unicodify","text","replace","htmlTagRegexp","clipId","imageId","ShadowFilter","react_default","createElement","height","in","stdDeviation","dx","dy","result","type","slope","ClipPath","_ref","dims","assign","rx","ry","styles","show","animationDuration","animation","hide","@keyframes fadeIn","from","opacity","to","@keyframes fadeOut","fadeMovement","WrappedComponent","FadeComponent","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","transitioning","props","label","inherits","createClass","value","prevProps","_this2","prevDims","prevLabel","_this$props","aw","width","ah","bw","bh","Math","abs","areSimilar","setState","setTimeout","classes","className","Component","injectSheet","react","clip_ClipPath","xlinkHref","clipPath","ASPECT_RATIO","margin","top","right","bottom","left","Record","leftImgX","rightImgX","imgY","imgWidth","imgHeight","updateDimensions","document","body","clientWidth","window","innerHeight","debouncedUpdateDimensions","callback","time","interval","clearTimeout","debounceEvent","addEventListener","removeEventListener","_this$state","leftImg","rightImg","_this$props$clip","clip","clipLabel","imgDims","leftX","rightX","y","clipDims","clipFracs","x","w","h","calculateClipDims","objectWithoutProperties","translateX","max","container","style","transform","svg_ShadowFilter","filter","components_image","name","leftSide","clip_ImageClip","transitionDuration","stepStyles","marginBottom","display","Graphic","sticky","position","steps","WebkitTransform","padding","& > div > div:last-child","leftStep","objectSpread","justifyContent","rightStep","stepText","backgroundColor","boxShadow","maxWidth","textAlign","color","fontSize","fontFamily","fontWeight","lineHeight","& em","fontStyle","@media (max-width: 767px)","@media (max-width: 575px)","onStepEnter","_ref$data","data","main_Record","react_scrollama_lib","dangerouslySetInnerHTML","__html","PureComponent","string","test","getImage","require","console","error","leftContainer","float","rightContainer","image","caption","@media (max-width: 991px)","marginLeft","marginRight","@media (max-width: 726px)","source","align","src","alt","content","copy","_ref2","content_Paragraph","content_Image","break","border","borderTop","archieml","load","copyAbove","graphics","copyBelow","processSteps","App","content_Content","_ref3","main_Graphic","content_ContentBreak","Boolean","location","hostname","match","ReactDOM","render","main_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Image","_ref$leftSide","react_jss__WEBPACK_IMPORTED_MODULE_1__","react_jss__WEBPACK_IMPORTED_MODULE_1___default","mask","fill","fillOpacity","_Image__WEBPACK_IMPORTED_MODULE_0__","d","_ImageVeil__WEBPACK_IMPORTED_MODULE_1__"],"mappings":"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","file":"static/js/main.6d3fb192.chunk.js","sourcesContent":["var map = {\n\t\".\": 4,\n\t\"./\": 4,\n\t\"./Image\": 18,\n\t\"./Image.js\": 18,\n\t\"./ImageVeil\": 19,\n\t\"./ImageVeil.js\": 19,\n\t\"./imageAssets/ancestral-map.jpg\": 119,\n\t\"./imageAssets/poem.jpg\": 120,\n\t\"./imageAssets/portraits.jpg\": 121,\n\t\"./imageAssets/women.jpg\": 122,\n\t\"./index\": 4,\n\t\"./index.js\": 4\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 118;","module.exports = __webpack_public_path__ + \"static/media/ancestral-map.d04420a2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/poem.d585b53b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/portraits.c29e8623.jpg\";","module.exports = __webpack_public_path__ + \"static/media/women.4c418c48.jpg\";","module.exports = __webpack_public_path__ + \"static/media/PortraitOfYuanTungLi.461d1db9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/FairbankLetter.74d78f94.jpg\";","import uuidv4 from 'uuid/v4';\n\nexport const createIdStore = () => {\n  const ids = {};\n  return graphicId => {\n    if (!(graphicId in ids)) return (ids[graphicId] = uuidv4());\n    return ids[graphicId];\n  };\n};\n\nexport const calculateClipDims = (imgDims, clipFracs) => {\n  const { leftX, y, width, height } = imgDims;\n  const { x: fracX, y: fracY, w: fracW, h: fracH } = clipFracs;\n  return {\n    x: leftX + fracX * width,\n    y: y + fracY * height,\n    width: fracW * width,\n    height: fracH * height,\n  };\n};\n\n// Source: https://gist.github.com/nmsdvid/8807205#gistcomment-2548862\nexport const debounceEvent = (callback, time) => {\n  let interval;\n  return (...args) => {\n    clearTimeout(interval);\n    interval = setTimeout(() => {\n      interval = null;\n      callback(...args);\n    }, time);\n  };\n};\n\nexport const areEqualShallow = (a, b) =>\n  Object.keys(a).length === Object.keys(b).length &&\n  Object.keys(a).every(key => b.hasOwnProperty(key) && a[key] === b[key]);\n\n// Compares two dimension objects\nexport const areSimilar = (a, b) => {\n  const { width: aw, height: ah } = a;\n  const { width: bw, height: bh } = b;\n\n  return Math.abs(ah / aw - bh / bw) < 0.001;\n};\n\n// An extremely limited unicodifier improved on a case-by-case basis\nexport const unicodify = text =>\n  text\n    .replace('“', '\\u201c')\n    .replace('”', '\\u201d')\n    .replace('’', '\\u2019')\n    .replace('‘', '\\u2018');\n\nconst htmlTagRegexp = /<[a-z][\\s\\S]*>/i;\nexport const hasHTMLElements = string => htmlTagRegexp.test(string);\n","import { createIdStore } from './utils';\n\nexport const clipId = createIdStore();\n\nexport const imageId = createIdStore();\n\nexport const shadowId = 'drop-shadow-filter';\n","import React from 'react';\nimport { shadowId } from '../../constants';\n\n// Adapted from https://stackoverflow.com/questions/6088409/svg-drop-shadow-using-css3\nconst ShadowFilter = () => (\n  <filter id={shadowId} height=\"130%\">\n    <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"7\" />\n    <feOffset dx=\"1\" dy=\"8\" result=\"offsetblur\" />\n    <feComponentTransfer>\n      <feFuncA type=\"linear\" slope=\"0.5\" />\n    </feComponentTransfer>\n    <feMerge>\n      <feMergeNode />\n      <feMergeNode in=\"SourceGraphic\" />\n    </feMerge>\n  </filter>\n);\n\nexport default ShadowFilter;\n","import React from 'react';\nimport { clipId } from '../../constants';\n\nconst CORNER_RADIUS = 3;\n\nconst ClipPath = ({ graphicId, dims }) => (\n  <clipPath id={clipId(graphicId)}>\n    <rect {...dims} rx={CORNER_RADIUS} ry={CORNER_RADIUS} />\n  </clipPath>\n);\n\nexport default ClipPath;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport injectSheet from 'react-jss';\nimport { areEqualShallow, areSimilar } from '../../utils';\n\nconst animationDuration = 500;\n\nconst styles = {\n  show: {\n    animationDuration,\n    animation: 'fadeIn',\n  },\n  hide: {\n    animationDuration,\n    animation: 'fadeOut',\n  },\n  '@keyframes fadeIn': {\n    from: { opacity: 0 },\n    to: { opacity: 1 },\n  },\n  '@keyframes fadeOut': {\n    from: { opacity: 1 },\n    to: { opacity: 0 },\n  },\n};\n\nconst fadeMovement = WrappedComponent => {\n  class FadeComponent extends Component {\n    state = {\n      transitioning: true,\n      dims: this.props.dims,\n      label: this.props.label,\n    };\n\n    componentDidUpdate(prevProps) {\n      const { dims: prevDims, label: prevLabel } = prevProps;\n      const { dims, label } = this.props;\n\n      if (areEqualShallow(prevProps.dims, this.props.dims)) {\n        return;\n      }\n      // If label remains the same and we think the highlighting box\n      // changed, we can assume the page was just resized\n      if (areSimilar(prevProps.dims, this.props.dims) && prevLabel === label) {\n        this.setState({ dims });\n        return;\n      }\n\n      // If previous clip was invisible...\n      if (prevDims.width === 0 && prevDims.height === 0) {\n        // If current clip is visible, it must be the first one we animate.\n        // Thus, we skip the transition-out animation and transition it in.\n        if (dims.width > 0 && dims.height > 0) {\n          this.setState({ transitioning: false, dims, label });\n        }\n        // If the current clip was not visible, this resize must have been\n        // triggered by a resize/initial dimension processing. Ignore.\n        return;\n      }\n\n      this.setState({ transitioning: true, dims: prevDims, label: prevLabel });\n      setTimeout(() => {\n        this.setState({ transitioning: false, dims, label });\n      }, animationDuration);\n    }\n\n    render() {\n      const { transitioning } = this.state;\n      const { classes } = this.props;\n      return (\n        <g className={transitioning ? classes.hide : classes.show}>\n          <WrappedComponent {...this.props} {...this.state} />\n        </g>\n      );\n    }\n  }\n\n  FadeComponent.propTypes = {\n    dims: PropTypes.exact({\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired,\n      width: PropTypes.number.isRequired,\n      height: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\n  return injectSheet(styles)(FadeComponent);\n};\n\nexport default fadeMovement;\n","import React, { Fragment } from 'react';\nimport ClipPath from './ClipPath';\nimport fadeMovement from './fadeMovement';\nimport { clipId, imageId } from '../../constants';\n\nconst ImageClip = ({ graphicId, dims, label }) => (\n  <Fragment>\n    <defs>\n      <ClipPath dims={dims} graphicId={graphicId} />\n    </defs>\n    <use\n      xlinkHref={`#${imageId(graphicId)}`}\n      clipPath={`url(#${clipId(graphicId)})`}\n    />\n  </Fragment>\n);\n\nexport default fadeMovement(ImageClip);\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\nimport { imageId, shadowId } from '../../constants';\nimport { debounceEvent, calculateClipDims } from '../../utils';\n\nimport { ShadowFilter } from '../svg';\nimport { Image, ImageVeil } from '../image';\nimport { ImageClip } from '../clip';\n\nconst ASPECT_RATIO = 1504 / 1024;\nconst DEBOUNCE_TIME = 250;\n\nconst margin = { top: 20, right: 20, bottom: 24, left: 20 };\n\nconst styles = {\n  container: {\n    transitionDuration: '0.6s',\n  },\n};\n\nclass Record extends Component {\n  state = {\n    height: null,\n\n    leftImgX: null,\n    rightImgX: null,\n    imgY: null,\n    imgWidth: null,\n    imgHeight: null,\n  };\n\n  componentDidMount() {\n    setTimeout(() => {\n      // hacky way to wait for document.body.clientWidth to account for scrollbar\n      this.updateDimensions();\n\n      this.debouncedUpdateDimensions = debounceEvent(\n        this.updateDimensions,\n        DEBOUNCE_TIME,\n      );\n      window.addEventListener('resize', this.debouncedUpdateDimensions);\n    }, 0);\n\n    const height = window.innerHeight;\n    this.setState({ height, imgHeight: height - margin.top - margin.bottom });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedUpdateDimensions);\n  }\n\n  updateDimensions = () => {\n    let width = document.body.clientWidth;\n    let height = window.innerHeight;\n\n    let imgHeight = height - margin.top - margin.bottom;\n    let imgWidth = imgHeight / ASPECT_RATIO;\n    let imgY = margin.top;\n\n    if (width > 512) {\n      if (imgWidth * 2 > width) {\n        imgWidth = (width - margin.left - margin.right) / 2;\n      }\n    } else {\n      imgWidth = width - margin.left - margin.right;\n    }\n    imgHeight = imgWidth * ASPECT_RATIO;\n    imgY += (height - margin.top - margin.bottom - imgHeight) / 2;\n\n    this.setState({\n      width,\n      height,\n      leftImgX: width / 2 - imgWidth,\n      rightImgX: width / 2,\n      imgY,\n      imgWidth,\n      imgHeight,\n    });\n  };\n\n  render() {\n    const {\n      width,\n      height,\n      leftImgX,\n      rightImgX,\n      imgY,\n      imgWidth,\n      imgHeight,\n    } = this.state;\n    const {\n      classes,\n      graphicId,\n      leftImg,\n      rightImg,\n      clip: { clipLabel, ...clipFracs },\n    } = this.props;\n\n    const imgDims = {\n      leftX: leftImgX,\n      rightX: rightImgX,\n      y: imgY,\n      width: imgWidth,\n      height: imgHeight,\n    };\n    const clipDims = calculateClipDims(imgDims, clipFracs);\n\n    let translateX = 0;\n    if (width <= 512) {\n      translateX = Math.max(margin.left - clipDims.x, -imgWidth / 2);\n    }\n\n    return (\n      <svg width={width} height={height}>\n        <g\n          className={classes.container}\n          style={{ transform: `translate(${translateX}px, 0px)` }}\n        >\n          <ShadowFilter />\n\n          <g id={imageId(graphicId)} style={{ filter: `url(#${shadowId})` }}>\n            <Image dims={imgDims} name={leftImg} leftSide />\n            <Image dims={imgDims} name={rightImg} />\n          </g>\n          <ImageVeil dims={imgDims} />\n\n          <ImageClip graphicId={graphicId} dims={clipDims} label={clipLabel} />\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default injectSheet(styles)(Record);\n","import React, { PureComponent } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\nimport injectSheet from 'react-jss';\nimport Record from './Record';\nimport { areEqualShallow } from '../../utils';\n\nconst stepStyles = {\n  marginBottom: '70vh',\n  display: 'flex',\n};\nconst styles = {\n  Graphic: {\n    marginBottom: '5vh',\n  },\n  sticky: {\n    position: 'sticky',\n    top: 0,\n  },\n  steps: {\n    WebkitTransform: 'translate3d(0, 0, 0)', // https://stackoverflow.com/questions/16033416/while-scrolling-on-an-ios-device-the-z-index-of-elements-isnt-working\n    padding: '0 7vw 110vh 7vw',\n\n    // Remove margin bottom on last className.step\n    '& > div > div:last-child': {\n      marginBottom: 0,\n    },\n  },\n  leftStep: {\n    ...stepStyles,\n    justifyContent: 'flex-start',\n  },\n  rightStep: {\n    ...stepStyles,\n    justifyContent: 'flex-end',\n  },\n  stepText: {\n    backgroundColor: '#fff',\n    boxShadow: '0 5px 15px 0 rgba(0,0,0,0.41)',\n    maxWidth: '500px',\n    textAlign: 'center',\n    color: '#222',\n    padding: '0.9rem',\n    fontSize: '1.1rem',\n    fontFamily: 'Merriweather',\n    fontWeight: 400,\n    lineHeight: '1.9rem',\n    '& em': {\n      color: '#1875E5',\n      fontWeight: 700,\n      fontStyle: 'normal',\n    },\n  },\n  '@media (max-width: 767px)': {\n    steps: { padding: '0 5vw 130vh 5vw' },\n  },\n  '@media (max-width: 575px)': {\n    leftStep: { justifyContent: 'center' },\n    rightStep: { justifyContent: 'center' },\n  },\n};\n\nclass Graphic extends PureComponent {\n  state = {\n    clip: { clipLabel: '', x: 0, y: 0, w: 0, h: 0 },\n  };\n\n  onStepEnter = ({ data: { text, ...clip } }) => {\n    if (!areEqualShallow(this.state.clip, clip)) {\n      this.setState({ clip });\n    }\n  };\n\n  render() {\n    const { clip } = this.state;\n    const { classes, id, leftImg, rightImg, steps } = this.props;\n\n    return (\n      <div className={classes.Graphic}>\n        <figure className={classes.sticky}>\n          <Record\n            graphicId={id}\n            leftImg={leftImg}\n            rightImg={rightImg}\n            clip={clip}\n          />\n        </figure>\n        <article className={classes.steps}>\n          <Scrollama onStepEnter={this.onStepEnter}>\n            {steps.map(data => (\n              <Step key={data.text} data={data}>\n                <div\n                  className={data.x < 1 ? classes.rightStep : classes.leftStep}\n                >\n                  <p\n                    className={classes.stepText}\n                    dangerouslySetInnerHTML={{ __html: data.text }}\n                  />\n                </div>\n              </Step>\n            ))}\n          </Scrollama>\n        </article>\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(styles)(Graphic);\n","import React from 'react';\nimport injectSheet from 'react-jss';\nimport { hasHTMLElements } from '../../utils';\n\nconst styles = {\n  text: {\n    lineHeight: 1.9,\n    fontSize: '1.1rem',\n    fontFamily: 'Merriweather',\n    margin: '0 auto 1.3rem auto',\n    maxWidth: '650px',\n  },\n};\n\nconst Paragraph = ({ classes, text }) => {\n  if (hasHTMLElements(text))\n    return (\n      <p className={classes.text} dangerouslySetInnerHTML={{ __html: text }} />\n    );\n  return <p className={classes.text}>{text}</p>;\n};\n\nexport default injectSheet(styles)(Paragraph);\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst getImage = name => {\n  switch (name) {\n    case 'PortraitOfYuanTungLi.jpg':\n      return require('./images/PortraitOfYuanTungLi.jpg');\n    case 'FairbankLetter.jpg':\n      return require('./images/FairbankLetter.jpg');\n    default:\n      console.error(`Could not get image with name ${name} in getImage().`);\n      return null;\n  }\n};\n\nconst styles = {\n  leftContainer: {\n    width: '35vw',\n    margin: '0 1.3rem 0.5rem 10vw',\n    float: 'left',\n  },\n  rightContainer: {\n    width: '35vw',\n    margin: '0 10vw 1.3rem 0.5rem',\n    float: 'right',\n  },\n  image: {\n    width: '100%',\n    marginBottom: '10px',\n  },\n  caption: {\n    fontFamily: 'Atlas Grotesk',\n    fontSize: '0.95rem',\n    color: '#999',\n    margin: 0,\n  },\n  '@media (max-width: 991px)': {\n    leftContainer: {\n      width: '45vw',\n      marginLeft: '1.3rem',\n    },\n    rightContainer: {\n      width: '45vw',\n      marginRight: '1.3rem',\n    },\n  },\n  '@media (max-width: 726px)': {\n    leftContainer: { marginLeft: 0 },\n    rightContainer: { marginRight: 0 },\n  },\n  '@media (max-width: 575px)': {\n    leftContainer: {\n      width: 'auto',\n      marginRight: 0,\n    },\n    rightContainer: {\n      width: 'auto',\n      marginLeft: 0,\n    },\n  },\n};\n\nconst Image = ({ classes, source, caption, align }) => {\n  return (\n    <div\n      className={\n        align === 'left' ? classes.leftContainer : classes.rightContainer\n      }\n    >\n      <img className={classes.image} src={getImage(source)} alt={caption} />\n      {caption && <p className={classes.caption}>{caption}</p>}\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(Image);\n","import React from 'react';\nimport injectSheet from 'react-jss';\nimport Paragraph from './Paragraph';\nimport Image from './Image';\n\nconst styles = {\n  content: {\n    marginBottom: '2rem',\n    padding: '0 15px',\n  },\n};\n\nconst Content = ({ classes, copy }) => {\n  return (\n    <div className={classes.content}>\n      {copy.map(({ type, value }) => {\n        if (type === 'text') return <Paragraph key={value} text={value} />;\n        if (type === 'image')\n          return (\n            <Image\n              key={value.source}\n              source={value.source}\n              caption={value.caption}\n              align={value.align}\n            />\n          );\n        return null;\n      })}\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(Content);\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  break: {\n    display: 'block',\n    height: '1px',\n    border: 0,\n    borderTop: '1px solid #ddd',\n    margin: '0 auto',\n    marginBottom: '1.7rem',\n    padding: 0,\n    width: '40vw',\n    maxWidth: '350px',\n  },\n};\n\nconst ContentBreak = ({ classes, copy }) => <hr className={classes.break} />;\n\nexport default injectSheet(styles)(ContentBreak);\n","import React from 'react';\nimport archieml from 'archieml';\nimport injectSheet from 'react-jss';\nimport uuidv4 from 'uuid/v4';\nimport Graphic from './Graphic';\nimport { Content, ContentBreak } from '../content';\nimport { unicodify } from '../../utils';\n\nimport copy from '../../copy';\nconst { copyAbove, graphics, copyBelow } = archieml.load(copy);\n\nconst processSteps = steps =>\n  steps.map(({ text, x, y, w, h }) => ({\n    text: unicodify(text),\n    x: +x,\n    y: +y,\n    w: +w,\n    h: +h,\n  }));\n\nconst styles = {\n  App: {\n    margin: '5vh 0',\n  },\n};\n\nconst App = ({ classes }) => (\n  <div className={classes.App}>\n    <Content copy={copyAbove} />\n    {graphics.map(({ leftImg, rightImg, steps }) => {\n      const id = uuidv4();\n      return (\n        <Graphic\n          key={id}\n          id={id}\n          leftImg={leftImg}\n          rightImg={rightImg}\n          steps={processSteps(steps)}\n        />\n      );\n    })}\n    <ContentBreak />\n    <Content copy={copyBelow} />\n  </div>\n);\n\nexport default injectSheet(styles)(App);\n","export default `\n[+copyAbove]\n\ntext: My fingers feel along the rice paper pages as my eyes trace the inked lines for three characters: Yan Ji Ci.\n\ntext: In my imagination, the description would be short and basic, something along the lines of “youngest of three, born on a winter’s night in 1900 in Dong Yang city”. This volume was published in 1920 when my great-grandfather would have only been twenty years old. He had been born in the outskirts of Dongyang city to a farming family that barely earned enough money to send him to school. And so I was skeptical as to whether his family would have even been included in such a polished genealogy book. If my great-grandfather’s family were included in a printed genealogy record, I thought, Columbia University would surely have it. At 20,000 volumes, Columbia University boasts the largest collection of Chinese genealogical records in North America, with records dating as far back as the early 12th century.\n\ntext: These <i>Jia pu</i> are a kaleidoscope into everyday life, and each carefully compiled record became a new world that sprawled out in front of me. I was looking for something more fulfilling than standard family trees and ethnic percentages — I wanted short anecdotes and colorful pictures that narrated how my great-grandfather lived day-to-day. Though I ultimately did not uncover the story of my great-grandparents, unexpected and intriguing stories leapt off each page of the genealogies that I combed through.\n\n[graphics]\n\nleftImg: poem.jpg\nrightImg: women.jpg\n\n[.steps]\n\ntext: These records (known as <i>jia pu</i>) may hold <em>poems that vocalize the ache of missing</em> a beloved family member next to a quiet, moonlit stream centuries ago;\nx: 0.01\ny: 0.01\nw: 0.98\nh: 0.98\n\ntext: This poem is entitled, \\u201cWhile staying in the Pei Household I reminisce about an elder of the family\\u201d, by Ma Dai.\nx: 0.38\ny: 0.04\nw: 0.2\nh: 0.90\n\npoem: Sitting on the lone rock under the tree, there’s light dew between the grass.\nMy heart misses the one who has sat on this rock but they are no longer here.\nBirds soar among the clouds, flying towards the south. The meandering mountain fill the quiet night as the clear, cool stream reflects the moonlight.\nA light drift blowing southward hugs me faithfully. The river and sea reflects each other from afar.\n:end\nx: 0.38\ny: 0.04\nw: 0.2\nh: 0.90\n\ntext: They could carry <em>proud accounts of noteworthy women</em> in the family.\nx: 1.01\ny: 0.01\nw: 0.98\nh: 0.98\n\n[]\n\nleftImg: ancestral-map.jpg\nrightImg: portraits.jpg\n\n[.steps]\n\ntext: They might map out the <i>fengshui</i> of an <em>ancestral burial site</em> so that future generations may pay their respect to their ancestors.\nx: 0.26\ny: 0.32\nw: 0.48\nh: 0.58\n\ntext: And they might provide <em>portraits of the noblemen</em> from whom the family descends.\nx: 1\ny: 0.11\nw: 1\nh: 0.54\n\n[]\n\n[+copyBelow]\n\ntext: When John Fairbank stepped onto the soil inof China in 1942, he was assistant to the American ambassador to China by day and special agent for Office of Strategic Services (the precursor of the Central Intelligence Agency) by night. Armed with a Nikon camera and rolls of film, the young Chinese Studies scholar’s initial mission was to set about compiling books and resources on the Japanese imperial forces to assist in the American war effort. Fairbank found himself befriending a number of Chinese alumna of the now-defunct Columbia University School of Library.\n\ntext: Fairbank’s most crucial partner was Yuan Tung-Li. Yuan graduated from Columbia with a graduate degree in History in 1922 (and was presented with a University of Medal for Excellence in 1935), he returned to Beijing the following year to serve as the inaugural Vice President of the Beijing National Library.\n\n{.image}\nsource: PortraitOfYuanTungLi.jpg\ncaption: Portrait of Yuan Tung Li.\nalign: left\n{}\n\ntext: It wasn’t long before the Japanese Imperial Army bombed and surrounded Beijing proper. Universities across the country found themselves struggling to feed their faculty and students and tensions ran high as the country braced itself for a gruesome war. Yuan had sent three hundred cartons of rare books from the Beijing National Library to Shanghai French Concession for safekeeping in 1937. In 1942, Yuan began urgent preparation with Fairbank and Yoh Peter Liang-Mu, Columbia School of Library grad and librarian at the Shanghai Library, to keep these rare records safe from the destruction of war. While Yuan and Yoh organized the collections on the ground, Fairbank corresponded with American universities interested in collecting these rare and endangered Chinese collections.\n\ntext: In 1942, Fairbank, Yuan and Yoh began entreating the American Library Association (ALA) in hopes ofto asking the United States Department of State to purchase Chinese rare books and manuscripts in bulk; these documents would all serve as a part of the Sino-American war effort. The State Department eventually finally allocated $100,000 (equivalent to $1,300,000 today) to buy select collections of rare Chinese books and manuscripts. The three men spent the following months curating the collection and devising ways to circumvent Japanese detection by air and by water and ship them to the United States.\n\n{.image}\nsource: FairbankLetter.jpg\ncaption: Photo of original letter sent from Fairbank to Columbia in 1943.\nalign: right\n{}\n\ntext: According to Dr. Wang many of the genealogies in the East Asian Studies Library arrived at Columbia during these first exchanges. In 1944, Columbia University was among the first to purchase Confucian classics, contemporary manuscripts, and other rare books from China. Since Yuan and Yoh were both alumni of the university, the president of Columbia Library Services gave them full rein of the transactions and the funds necessary to safely transport the chosen rare books and manuscripts to the shores of New York City.\n\ntext: Unbeknownst to Yuan, Yoh and Fairbank, a few decades later the Church of Jesus Christ of Latter-day Saints (commonly known as the Mormon Church) trained their sights on these shipments of genealogies. Unlike these three men, who sought to preserve the rich history recorded in Chinese jia pu, the Mormon Church had an agenda for these genealogies that can only be described as imperialistic.\n\ntext: The Family History Center (formerly known as Genealogical Society of Salt Lake City, Utah) is the genealogy arm of the Mormon Church and has a Granite Vault tucked 700 feet deep into the side of a canyon in Utah. For over a century Family History Center has actively collected millions of family records. One of the main tenets of the Mormon faith is proxy baptism— (also known as baptism for the dead). The Mormon Church justifies this practicebaptism for the dead with quotes from scripture (“Else what shall they do which are baptized for the dead, if the dead rise not at all?”), claiming that the deceased possesses free agency to convert to Mormonism. The Church has compiled a list of 400 million names, all of whom have been baptized or is cleared for the rite those baptized or cleared for the rite.\n\n{}\n`;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/main';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\n\nconst IMGDIR = './imageAssets';\n\nconst Image = ({ dims, name, leftSide = false }) => {\n  const { leftX, rightX, y, width, height } = dims;\n\n  return (\n    <image\n      x={leftSide ? leftX : rightX}\n      y={y}\n      width={width}\n      height={height}\n      xlinkHref={require(`${IMGDIR}/${name}`)}\n    />\n  );\n};\n\nexport default Image;\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  mask: {\n    fill: '#000',\n    fillOpacity: 0.35,\n  },\n};\n\nconst ImageVeil = ({ classes, dims }) => {\n  const { leftX, y, width, height } = dims;\n  return (\n    <rect\n      className={classes.mask}\n      x={leftX}\n      y={y}\n      width={2 * width}\n      height={height}\n    />\n  );\n};\n\nexport default injectSheet(styles)(ImageVeil);\n","export { default as Image } from './Image';\nexport { default as ImageVeil } from './ImageVeil';\n"],"sourceRoot":""}