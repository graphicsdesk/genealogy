{"version":3,"sources":["components/content/images/PortraitOfYuanTungLi.jpg","components/content/images/FairbankLetter.jpg","components/content/images/MicrofilmedforGenealogicalSocietyOfSaltLakeCity.jpg","components/image sync /^.*$","components/image/imageAssets/ancestral-map.jpg","components/image/imageAssets/poem.jpg","components/image/imageAssets/portraits.jpg","components/image/imageAssets/women.jpg","utils.js","components/content/Header.js","components/content/Paragraph.js","components/content/Image.js","components/content/Content.js","components/content/ContentBreak.js","components/content/TextBlock.js","components/content/PoemBlock.js","constants.js","components/svg/ShadowFilter.js","components/clip/ClipPath.js","components/clip/fadeMovement.js","components/clip/ImageClip.js","components/main/Record.js","components/main/Graphic.js","components/main/App.js","copy.js","serviceWorker.js","index.js","components/image/Image.js","components/image/ImageVeil.js","components/image/index.js"],"names":["module","exports","__webpack_require__","p","map",".","./","./Image","./Image.js","./ImageVeil","./ImageVeil.js","./imageAssets/ancestral-map.jpg","./imageAssets/poem.jpg","./imageAssets/portraits.jpg","./imageAssets/women.jpg","./index","./index.js","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","Object","resolve","createIdStore","ids","graphicId","uuidv4","areEqualShallow","a","b","length","every","key","hasOwnProperty","unicodify","text","replace","htmlTagRegexp","injectSheet","header","marginBottom","margin","maxWidth","textAlign","byline","fontSize","fontFamily","fontWeight","timestamp","textTransform","_ref","classes","bylines","title","date","react_default","createElement","className","line","dangerouslySetInnerHTML","__html","lineHeight","& a","textDecoration","color","borderBottomColor","borderBottomWidth","& a:hover","string","test","getImage","name","require","console","error","concat","leftContainer","width","float","rightContainer","centerContainer","image","caption","@media (max-width: 991px)","marginLeft","marginRight","@media (max-width: 726px)","@media (max-width: 680px)","@media (max-width: 575px)","source","containerClass","align","src","alt","content","padding","copy","_ref2","type","value","content_Paragraph","content_Image","break","display","height","border","borderTop","backgroundColor","boxShadow","& em","fontStyle","poem","lines","split","slice","clipId","imageId","ShadowFilter","in","stdDeviation","dx","dy","result","slope","ClipPath","dims","assign","rx","ry","styles","show","animationDuration","animation","hide","@keyframes fadeIn","from","opacity","to","@keyframes fadeOut","fadeMovement","WrappedComponent","FadeComponent","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","transitioning","props","label","inherits","createClass","prevProps","_this2","prevDims","prevLabel","_this$props","aw","ah","bw","bh","Math","abs","areSimilar","setState","setTimeout","Component","react","clip_ClipPath","xlinkHref","clipPath","ASPECT_RATIO","top","right","bottom","left","Record","leftImgX","rightImgX","imgY","imgWidth","imgHeight","updateDimensions","document","body","clientWidth","window","innerHeight","debouncedUpdateDimensions","callback","time","interval","clearTimeout","debounceEvent","addEventListener","removeEventListener","_this$state","leftImg","rightImg","_this$props$clip","clip","clipLabel","imgDims","leftX","rightX","y","clipDims","clipFracs","x","w","h","calculateClipDims","objectWithoutProperties","translateX","max","container","style","transform","svg_ShadowFilter","filter","components_image","leftSide","clip_ImageClip","transitionDuration","Graphic","onStepEnter","_ref$data","data","steps","sticky","main_Record","react_scrollama_lib","step","content_PoemBlock","content_TextBlock","PureComponent","position","WebkitTransform","& > div > div:last-child","justifyContent","@media (max-width: 767px)","archieml","load","copyAbove","graphics","copyBelow","processSteps","App","content_Header","content_Content","_ref3","main_Graphic","content_ContentBreak","Boolean","location","hostname","match","ReactDOM","render","main_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Image","_ref$leftSide","react_jss__WEBPACK_IMPORTED_MODULE_1__","react_jss__WEBPACK_IMPORTED_MODULE_1___default","mask","fill","fillOpacity","_Image__WEBPACK_IMPORTED_MODULE_0__","d","_ImageVeil__WEBPACK_IMPORTED_MODULE_1__"],"mappings":"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","file":"static/js/main.cd984135.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/PortraitOfYuanTungLi.768d6608.jpg\";","module.exports = __webpack_public_path__ + \"static/media/FairbankLetter.74d78f94.jpg\";","module.exports = __webpack_public_path__ + \"static/media/MicrofilmedforGenealogicalSocietyOfSaltLakeCity.a0478d48.jpg\";","var map = {\n\t\".\": 4,\n\t\"./\": 4,\n\t\"./Image\": 18,\n\t\"./Image.js\": 18,\n\t\"./ImageVeil\": 19,\n\t\"./ImageVeil.js\": 19,\n\t\"./imageAssets/ancestral-map.jpg\": 121,\n\t\"./imageAssets/poem.jpg\": 122,\n\t\"./imageAssets/portraits.jpg\": 123,\n\t\"./imageAssets/women.jpg\": 124,\n\t\"./index\": 4,\n\t\"./index.js\": 4\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 120;","module.exports = __webpack_public_path__ + \"static/media/ancestral-map.d04420a2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/poem.d585b53b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/portraits.c29e8623.jpg\";","module.exports = __webpack_public_path__ + \"static/media/women.4c418c48.jpg\";","import uuidv4 from 'uuid/v4';\n\nexport const createIdStore = () => {\n  const ids = {};\n  return graphicId => {\n    if (!(graphicId in ids)) return (ids[graphicId] = uuidv4());\n    return ids[graphicId];\n  };\n};\n\nexport const calculateClipDims = (imgDims, clipFracs) => {\n  const { leftX, y, width, height } = imgDims;\n  const { x: fracX, y: fracY, w: fracW, h: fracH } = clipFracs;\n  return {\n    x: leftX + fracX * width,\n    y: y + fracY * height,\n    width: fracW * width,\n    height: fracH * height,\n  };\n};\n\n// Source: https://gist.github.com/nmsdvid/8807205#gistcomment-2548862\nexport const debounceEvent = (callback, time) => {\n  let interval;\n  return (...args) => {\n    clearTimeout(interval);\n    interval = setTimeout(() => {\n      interval = null;\n      callback(...args);\n    }, time);\n  };\n};\n\nexport const areEqualShallow = (a, b) =>\n  Object.keys(a).length === Object.keys(b).length &&\n  Object.keys(a).every(key => b.hasOwnProperty(key) && a[key] === b[key]);\n\n// Compares two dimension objects\nexport const areSimilar = (a, b) => {\n  const { width: aw, height: ah } = a;\n  const { width: bw, height: bh } = b;\n\n  return Math.abs(ah / aw - bh / bw) < 0.001;\n};\n\n// An extremely limited unicodifier improved on a case-by-case basis\nexport const unicodify = text =>\n  text &&\n  text\n    .replace('“', '\\u201c')\n    .replace('”', '\\u201d')\n    .replace('’', '\\u2019')\n    .replace('‘', '\\u2018');\n\nconst htmlTagRegexp = /<[a-z][\\s\\S]*>/i;\nexport const hasHTMLElements = string => htmlTagRegexp.test(string);\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  header: {\n    marginBottom: '1.3rem',\n    margin: '0 auto',\n    maxWidth: '650px',\n    textAlign: 'center',\n  },\n  byline: {\n    fontSize: '1.05rem',\n    fontFamily: 'Merriweather',\n    margin: 0,\n    marginBottom: '5px',\n    fontWeight: 900,\n  },\n  timestamp: {\n    fontSize: '1rem',\n    fontFamily: 'Atlas Grotesk',\n    margin: 0,\n    textTransform: 'uppercase',\n  },\n};\n\nconst Header = ({ classes, header }) => {\n  const { title, bylines, date } = header;\n  return (\n    <div className={classes.header}>\n      {bylines.map(line => (\n        <p\n          className={classes.byline}\n          dangerouslySetInnerHTML={{ __html: line }}\n        />\n      ))}\n      <p className={classes.timestamp}>{date}</p>\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(Header);\n","import React from 'react';\nimport injectSheet from 'react-jss';\nimport { hasHTMLElements } from '../../utils';\n\nconst styles = {\n  text: {\n    lineHeight: 1.9,\n    fontSize: '1.1rem',\n    fontFamily: 'Merriweather',\n    margin: '0 auto 1.3rem auto',\n    maxWidth: '650px',\n    '& a': {\n      textDecoration: 'none',\n      color: '#5ec2c2',\n      borderBottomColor: '#5ec2c2',\n      borderBottomWidth: 0,\n    },\n    '& a:hover': {\n      borderBottomWidth: '1px',\n    },\n  },\n};\n\nconst Paragraph = ({ classes, text }) => {\n  if (hasHTMLElements(text))\n    return (\n      <p className={classes.text} dangerouslySetInnerHTML={{ __html: text }} />\n    );\n  return <p className={classes.text}>{text}</p>;\n};\n\nexport default injectSheet(styles)(Paragraph);\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst getImage = name => {\n  switch (name) {\n    case 'PortraitOfYuanTungLi.jpg':\n      return require('./images/PortraitOfYuanTungLi.jpg');\n    case 'FairbankLetter.jpg':\n      return require('./images/FairbankLetter.jpg');\n    case 'MicrofilmedforGenealogicalSocietyOfSaltLakeCity.jpg':\n      return require('./images/MicrofilmedforGenealogicalSocietyOfSaltLakeCity.jpg');\n    default:\n      console.error(`Could not get image with name ${name} in getImage().`);\n      return null;\n  }\n};\n\nconst styles = {\n  leftContainer: {\n    width: '35vw',\n    margin: '0 1.3rem 0.5rem 10vw',\n    float: 'left',\n  },\n  rightContainer: {\n    width: '35vw',\n    margin: '0 10vw 0.5rem 1.3rem',\n    float: 'right',\n  },\n  centerContainer: {\n    width: '70vw',\n    margin: '0 auto 1.3rem auto',\n  },\n  image: {\n    width: '100%',\n    marginBottom: '10px',\n  },\n  caption: {\n    fontFamily: 'Atlas Grotesk',\n    fontWeight: 400,\n    fontSize: '0.95rem',\n    color: '#999',\n    margin: 0,\n  },\n  '@media (max-width: 991px)': {\n    leftContainer: {\n      width: '45vw',\n      marginLeft: '1.3rem',\n    },\n    rightContainer: {\n      width: '45vw',\n      marginRight: '1.3rem',\n    },\n    centerContainer: {\n      width: '80vw',\n    },\n  },\n  '@media (max-width: 726px)': {\n    leftContainer: { marginLeft: 0 },\n    rightContainer: { marginRight: 0 },\n  },\n  '@media (max-width: 680px)': {\n    centerContainer: {\n      width: 'auto',\n    },\n  },\n  '@media (max-width: 575px)': {\n    leftContainer: {\n      width: 'auto',\n      marginRight: 0,\n    },\n    rightContainer: {\n      width: 'auto',\n      marginLeft: 0,\n    },\n  },\n};\n\nconst Image = ({ classes, source, caption, align }) => {\n  // align mmust be left, right, or center\n  const containerClass = classes[align + 'Container'];\n  return (\n    <div className={containerClass}>\n      <img className={classes.image} src={getImage(source)} alt={caption} />\n      {caption && <p className={classes.caption}>{caption}</p>}\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(Image);\n","import React from 'react';\nimport injectSheet from 'react-jss';\nimport Paragraph from './Paragraph';\nimport Image from './Image';\n\nconst styles = {\n  content: {\n    marginBottom: '2rem',\n    padding: '0 15px',\n  },\n};\n\nconst Content = ({ classes, copy }) => {\n  return (\n    <div className={classes.content}>\n      {copy.map(({ type, value }) => {\n        if (type === 'text') return <Paragraph key={value} text={value} />;\n        if (type === 'image')\n          return (\n            <Image\n              key={value.source}\n              source={value.source}\n              caption={value.caption}\n              align={value.align}\n            />\n          );\n        return null;\n      })}\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(Content);\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  break: {\n    display: 'block',\n    height: '0.6px',\n    border: 0,\n    borderTop: '1px solid #ccc',\n    margin: '0 auto',\n    marginBottom: '1.7rem',\n    padding: 0,\n    width: '40vw',\n    maxWidth: '350px',\n  },\n};\n\nconst ContentBreak = ({ classes, copy }) => <hr className={classes.break} />;\n\nexport default injectSheet(styles)(ContentBreak);\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  text: {\n    backgroundColor: '#fff',\n    boxShadow: '0 5px 15px 0 rgba(0,0,0,0.41)',\n    maxWidth: '500px',\n    textAlign: 'center',\n    color: '#222',\n    padding: '0.9rem',\n    fontSize: '1.1rem',\n    fontFamily: 'Merriweather',\n    fontWeight: 400,\n    lineHeight: '1.9rem',\n    '& em': {\n      color: '#1875E5',\n      fontWeight: 700,\n      fontStyle: 'normal',\n    },\n  },\n};\n\nconst TextBlock = ({ classes, text }) => {\n  return (\n    <p className={classes.text} dangerouslySetInnerHTML={{ __html: text }} />\n  );\n};\n\nexport default injectSheet(styles)(TextBlock);\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  poem: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    maxWidth: '500px',\n    textAlign: 'center',\n    padding: '0.9rem',\n    color: '#eee',\n    fontSize: '1rem',\n    fontFamily: 'Atlas Grotesk',\n    fontWeight: 500,\n    lineHeight: '1.7rem',\n  },\n  line: {\n    margin: '1rem 0',\n  },\n  title: {\n    marginBottom: '1rem',\n    fontSize: '1.3rem',\n    fontWeight: 400,\n  },\n};\n\nconst PoemBlock = ({ classes, text }) => {\n  const lines = text.split('\\n');\n  return (\n    <div className={classes.poem}>\n      <p className={classes.title}>{lines[0]}</p>\n      {lines.slice(1).map(line => (\n        <p key={line} className={classes.line}>\n          {line}\n        </p>\n      ))}\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(PoemBlock);\n","import { createIdStore } from './utils';\n\nexport const clipId = createIdStore();\n\nexport const imageId = createIdStore();\n\nexport const shadowId = 'drop-shadow-filter';\n","import React from 'react';\nimport { shadowId } from '../../constants';\n\n// Adapted from https://stackoverflow.com/questions/6088409/svg-drop-shadow-using-css3\nconst ShadowFilter = () => (\n  <filter id={shadowId} height=\"130%\">\n    <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"7\" />\n    <feOffset dx=\"1\" dy=\"8\" result=\"offsetblur\" />\n    <feComponentTransfer>\n      <feFuncA type=\"linear\" slope=\"0.5\" />\n    </feComponentTransfer>\n    <feMerge>\n      <feMergeNode />\n      <feMergeNode in=\"SourceGraphic\" />\n    </feMerge>\n  </filter>\n);\n\nexport default ShadowFilter;\n","import React from 'react';\nimport { clipId } from '../../constants';\n\nconst CORNER_RADIUS = 3;\n\nconst ClipPath = ({ graphicId, dims }) => (\n  <clipPath id={clipId(graphicId)}>\n    <rect {...dims} rx={CORNER_RADIUS} ry={CORNER_RADIUS} />\n  </clipPath>\n);\n\nexport default ClipPath;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport injectSheet from 'react-jss';\nimport { areEqualShallow, areSimilar } from '../../utils';\n\nconst animationDuration = 500;\n\nconst styles = {\n  show: {\n    animationDuration,\n    animation: 'fadeIn',\n  },\n  hide: {\n    animationDuration,\n    animation: 'fadeOut',\n  },\n  '@keyframes fadeIn': {\n    from: { opacity: 0 },\n    to: { opacity: 1 },\n  },\n  '@keyframes fadeOut': {\n    from: { opacity: 1 },\n    to: { opacity: 0 },\n  },\n};\n\nconst fadeMovement = WrappedComponent => {\n  class FadeComponent extends Component {\n    state = {\n      transitioning: true,\n      dims: this.props.dims,\n      label: this.props.label,\n    };\n\n    componentDidUpdate(prevProps) {\n      const { dims: prevDims, label: prevLabel } = prevProps;\n      const { dims, label } = this.props;\n\n      if (areEqualShallow(prevProps.dims, this.props.dims)) {\n        return;\n      }\n      // If label remains the same and we think the highlighting box\n      // changed, we can assume the page was just resized\n      if (areSimilar(prevProps.dims, this.props.dims) && prevLabel === label) {\n        this.setState({ dims });\n        return;\n      }\n\n      // If previous clip was invisible...\n      if (prevDims.width === 0 && prevDims.height === 0) {\n        // If current clip is visible, it must be the first one we animate.\n        // Thus, we skip the transition-out animation and transition it in.\n        if (dims.width > 0 && dims.height > 0) {\n          this.setState({ transitioning: false, dims, label });\n        }\n        // If the current clip was not visible, this resize must have been\n        // triggered by a resize/initial dimension processing. Ignore.\n        return;\n      }\n\n      this.setState({ transitioning: true, dims: prevDims, label: prevLabel });\n      setTimeout(() => {\n        this.setState({ dims, label }, () =>\n          this.setState({ transitioning: false }),\n        );\n      }, animationDuration);\n    }\n\n    render() {\n      const { transitioning } = this.state;\n      const { classes } = this.props;\n      return (\n        <g className={transitioning ? classes.hide : classes.show}>\n          <WrappedComponent {...this.props} {...this.state} />\n        </g>\n      );\n    }\n  }\n\n  FadeComponent.propTypes = {\n    dims: PropTypes.exact({\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired,\n      width: PropTypes.number.isRequired,\n      height: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\n  return injectSheet(styles)(FadeComponent);\n};\n\nexport default fadeMovement;\n","import React, { Fragment } from 'react';\nimport ClipPath from './ClipPath';\nimport fadeMovement from './fadeMovement';\nimport { clipId, imageId } from '../../constants';\n\nconst ImageClip = ({ graphicId, dims, label }) => (\n  <Fragment>\n    <defs>\n      <ClipPath dims={dims} graphicId={graphicId} />\n    </defs>\n    <use\n      xlinkHref={`#${imageId(graphicId)}`}\n      clipPath={`url(#${clipId(graphicId)})`}\n    />\n  </Fragment>\n);\n\nexport default fadeMovement(ImageClip);\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\nimport { imageId, shadowId } from '../../constants';\nimport { debounceEvent, calculateClipDims } from '../../utils';\n\nimport { ShadowFilter } from '../svg';\nimport { Image, ImageVeil } from '../image';\nimport { ImageClip } from '../clip';\n\nconst ASPECT_RATIO = 1504 / 1024;\nconst DEBOUNCE_TIME = 250;\n\nconst margin = { top: 20, right: 20, bottom: 24, left: 20 };\n\nconst styles = {\n  container: {\n    transitionDuration: '0.6s',\n  },\n};\n\nclass Record extends Component {\n  state = {\n    height: null,\n\n    leftImgX: null,\n    rightImgX: null,\n    imgY: null,\n    imgWidth: null,\n    imgHeight: null,\n  };\n\n  componentDidMount() {\n    setTimeout(() => {\n      // hacky way to wait for document.body.clientWidth to account for scrollbar\n      this.updateDimensions();\n\n      this.debouncedUpdateDimensions = debounceEvent(\n        this.updateDimensions,\n        DEBOUNCE_TIME,\n      );\n      window.addEventListener('resize', this.debouncedUpdateDimensions);\n    }, 0);\n\n    const height = window.innerHeight;\n    this.setState({ height, imgHeight: height - margin.top - margin.bottom });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedUpdateDimensions);\n  }\n\n  updateDimensions = () => {\n    let width = document.body.clientWidth;\n    let height = window.innerHeight;\n\n    let imgHeight = height - margin.top - margin.bottom;\n    let imgWidth = imgHeight / ASPECT_RATIO;\n    let imgY = margin.top;\n\n    if (width > 512) {\n      if (imgWidth * 2 > width) {\n        imgWidth = (width - margin.left - margin.right) / 2;\n      }\n    } else {\n      imgWidth = width - margin.left - margin.right;\n    }\n    imgHeight = imgWidth * ASPECT_RATIO;\n    imgY += (height - margin.top - margin.bottom - imgHeight) / 2;\n\n    this.setState({\n      width,\n      height,\n      leftImgX: width / 2 - imgWidth,\n      rightImgX: width / 2,\n      imgY,\n      imgWidth,\n      imgHeight,\n    });\n  };\n\n  render() {\n    const {\n      width,\n      height,\n      leftImgX,\n      rightImgX,\n      imgY,\n      imgWidth,\n      imgHeight,\n    } = this.state;\n    const {\n      classes,\n      graphicId,\n      leftImg,\n      rightImg,\n      clip: { clipLabel, ...clipFracs },\n    } = this.props;\n\n    const imgDims = {\n      leftX: leftImgX,\n      rightX: rightImgX,\n      y: imgY,\n      width: imgWidth,\n      height: imgHeight,\n    };\n    const clipDims = calculateClipDims(imgDims, clipFracs);\n\n    let translateX = 0;\n    if (width <= 512) {\n      translateX = Math.max(margin.left - clipDims.x, -imgWidth / 2);\n    }\n\n    return (\n      <svg width={width} height={height}>\n        <g\n          className={classes.container}\n          style={{ transform: `translate(${translateX}px, 0px)` }}\n        >\n          <ShadowFilter />\n\n          <g id={imageId(graphicId)} style={{ filter: `url(#${shadowId})` }}>\n            <Image dims={imgDims} name={leftImg} leftSide />\n            <Image dims={imgDims} name={rightImg} />\n          </g>\n          <ImageVeil dims={imgDims} />\n\n          <ImageClip graphicId={graphicId} dims={clipDims} label={clipLabel} />\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default injectSheet(styles)(Record);\n","import React, { PureComponent } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\nimport injectSheet from 'react-jss';\nimport { areEqualShallow } from '../../utils';\nimport { TextBlock, PoemBlock } from '../content';\nimport Record from './Record';\n\nconst styles = {\n  Graphic: {\n    marginBottom: '5vh',\n  },\n  sticky: {\n    position: 'sticky',\n    top: 0,\n  },\n  steps: {\n    WebkitTransform: 'translate3d(0, 0, 0)', // https://stackoverflow.com/questions/16033416/while-scrolling-on-an-ios-device-the-z-index-of-elements-isnt-working\n    padding: '0 7vw 110vh 7vw',\n    '& > div > div:last-child': {\n      marginBottom: 0, // Remove margin bottom on last className.step\n    },\n  },\n  step: {\n    marginBottom: '70vh',\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  '@media (max-width: 767px)': {\n    steps: { padding: '0 5vw 130vh 5vw' },\n  },\n};\n\nclass Graphic extends PureComponent {\n  state = {\n    clip: { clipLabel: '', x: 0, y: 0, w: 0, h: 0 },\n  };\n\n  onStepEnter = ({ data: { text, ...clip } }) => {\n    if (!areEqualShallow(this.state.clip, clip)) {\n      this.setState({ clip });\n    }\n  };\n\n  render() {\n    const { clip } = this.state;\n    const { classes, id, leftImg, rightImg, steps } = this.props;\n\n    return (\n      <div className={classes.Graphic}>\n        <figure className={classes.sticky}>\n          <Record\n            graphicId={id}\n            leftImg={leftImg}\n            rightImg={rightImg}\n            clip={clip}\n          />\n        </figure>\n        <article className={classes.steps}>\n          <Scrollama onStepEnter={this.onStepEnter}>\n            {steps.map(data => (\n              <Step key={data.text + data.poem} data={data}>\n                <div className={classes.step}>\n                  {data.poem ? (\n                    <PoemBlock text={data.poem} />\n                  ) : (\n                    <TextBlock text={data.text} />\n                  )}\n                </div>\n              </Step>\n            ))}\n          </Scrollama>\n        </article>\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(styles)(Graphic);\n","import React from 'react';\nimport archieml from 'archieml';\nimport injectSheet from 'react-jss';\nimport uuidv4 from 'uuid/v4';\nimport copy from '../../copy';\nimport { unicodify } from '../../utils';\nimport { Content, ContentBreak, Header } from '../content';\nimport Graphic from './Graphic';\n\nconst { header, copyAbove, graphics, copyBelow } = archieml.load(copy);\n\nconst processSteps = steps =>\n  steps.map(({ text, poem, x, y, w, h }) => ({\n    text: unicodify(text),\n    poem,\n    x: +x,\n    y: +y,\n    w: +w,\n    h: +h,\n  }));\n\nconst styles = {\n  App: {\n    margin: '5vh 0',\n  },\n};\n\nconst App = ({ classes }) => (\n  <div className={classes.App}>\n    <Header header={header} />\n    <Content copy={copyAbove} />\n    {graphics.map(({ leftImg, rightImg, steps }) => {\n      const id = uuidv4();\n      return (\n        <Graphic\n          key={id}\n          id={id}\n          leftImg={leftImg}\n          rightImg={rightImg}\n          steps={processSteps(steps)}\n        />\n      );\n    })}\n    <ContentBreak />\n    <Content copy={copyBelow} />\n  </div>\n);\n\nexport default injectSheet(styles)(App);\n","export default `\n{header}\n\n[.bylines]\n* By <a href=\"https://www.columbiaspectator.com/contributors/Victoria-Li/\">Victoria Li</a>\n* Graphics by <a href=\"https://www.columbiaspectator.com/contributors/Jason-Kao/\">Jason Kao</a>\n* Illustration by Sam Wilcox\n[]\n\ndate: March 25, 2019\n\n{}\n\n[+copyAbove]\n\ntext: My fingers feel along the rice paper pages as my eyes trace the inked lines for three characters: Yan Ji Ci.\n\ntext: In my imagination, the description would be short and basic, something along the lines of “youngest of three, born on a winter’s night in 1900 in Dong Yang city.” This volume was published in 1920 when my great-grandfather would have only been twenty years old. He had been born in the outskirts of Dongyang city to a farming family that barely earned enough money to send him to school. And so I was skeptical as to whether his family would have even been included in such a pretty genealogy book. If my great-grandfather were included in a printed genealogy, I thought, Columbia University would surely have it. At 20,000 volumes, C.V. Starr East Asian Studies Library at Columbia University boasts the largest collection of Chinese genealogical records in North America, with volumes dating as far back as the early 12th century.\n\ntext: The precious legacy of Chinese culture and history, these jia pu are invaluable treasures for scholarship and collective memory. More than 90 years ago a handful of librarians and scholars risked their lives to save these jia pu during the devastating Sino-Japanese War by sending them to Columbia University. Decades later these same genealogical records were used by the Mormon Church to perform <a href=\"https://www.lds.org/topics/proxy-baptism?lang=eng\">proxy baptism</a>, a ritual in which full immersion baptism is performed in a temple by a living person on behalf of someone who is dead, on deceased Chinese ancestors.  The fact that these genealogies are now used for religious proselytization is a disappointing departure from the original intention of the scholars who fought hard to send them to Columbia. Today, these genealogies are still very much a part of the local culture of communities in China and throughout the Chinese diaspora. These genealogies should be more easily accessible, so that their preservation and safekeeping was not in vain.\n\ntext: These <i>Jia pu</i> are a kaleidoscope into everyday life, and each carefully compiled record became a new world that sprawled out in front of me. I am looking for something more fulfilling than standard family trees and ethnic percentages — I want short anecdotes and colorful pictures that narrated how my great-grandfather lived day-to-day. In my hunt to find the story of my ancestors, unexpected and intriguing stories begin leaping off each page of the genealogies that I comb through.\n\n[graphics]\n\nleftImg: poem.jpg\nrightImg: women.jpg\n\n[.steps]\n\nx: 0.01\ny: 0.01\nw: 0.98\nh: 0.98\ntext: Strikingly different from the cold number-crunching mechanisms of modern-day western genealogy, these records (known as <i>jia pu</i>) may hold beautiful poems\\u2026\n\nx: 0.38\ny: 0.04\nw: 0.2\nh: 0.90\ntext: \\u2026such as this one, entitled “While staying in the Pei Household I reminisce about an elder of the family.”\n\nx: 0.38\ny: 0.04\nw: 0.2\nh: 0.90\npoem: \\u201cWhile staying in the Pei Household I reminisce about an elder of the family\\u201d\nSitting on the lone rock under the tree, there’s light dew between the grass.\nMy heart misses the one who has sat on this rock but they are no longer here.\nBirds soar among the clouds, flying towards the south. The meandering mountain fill the quiet night as the clear, cool stream reflects the moonlight.\nA light drift blowing southward hugs me faithfully. The river and sea reflects each other from afar.\n:end\n\nx: 1.01\ny: 0.01\nw: 0.98\nh: 0.98\ntext: They may also carry <em>proud accounts of noteworthy women</em> in the family.\n\n[]\n\nleftImg: ancestral-map.jpg\nrightImg: portraits.jpg\n\n[.steps]\n\ntext: They might map out the <i>fengshui</i> of an <em>ancestral burial site</em> so that future generations may pay their respect to their ancestors.\nx: 0.26\ny: 0.32\nw: 0.48\nh: 0.58\n\ntext: And they might provide <em>portraits of the noblemen</em> from whom the family descends.\nx: 1\ny: 0.11\nw: 1\nh: 0.54\n\n[]\n\n[+copyBelow]\n\ntext: When John Fairbank stepped onto the soil inof China in 1942, he was assistant to the American ambassador to China by day and special agent for Office of Strategic Services (the precursor of the Central Intelligence Agency) by night. Armed with a Nikon camera and rolls of film, the young Chinese Studies scholar’s initial mission was to set about compiling books and resources on the Japanese imperial forces to assist in the American war effort. Fairbank found himself befriending a number of Chinese alumna of the now-defunct Columbia University School of Library.\n\ntext: Fairbank’s most crucial partner was Yuan Tung-Li. Yuan graduated from Columbia with a graduate degree in History in 1922 (and was presented with a University of Medal for Excellence in 1935), he returned to Beijing the following year to serve as the inaugural Vice President of the Beijing National Library.\n\n{.image}\nsource: PortraitOfYuanTungLi.jpg\ncaption: Portrait of Yuan Tung Li.\nalign: left\n{}\n\ntext: It wasn’t long before the Japanese Imperial Army bombed and surrounded Beijing proper. Universities across the country found themselves struggling to feed their faculty and students and tensions ran high as the country braced itself for a gruesome war. Yuan had sent three hundred cartons of rare books from the Beijing National Library to Shanghai French Concession for safekeeping in 1937. In 1942, Yuan began urgent preparation with Fairbank and Yoh Peter Liang-Mu, Columbia School of Library grad and librarian at the Shanghai Library, to keep these rare records safe from the destruction of war. While Yuan and Yoh organized the collections on the ground, Fairbank corresponded with American universities interested in collecting these rare and endangered Chinese collections.\n\ntext: In 1942, Fairbank, Yuan and Yoh began entreating the American Library Association (ALA) in hopes ofto asking the United States Department of State to purchase Chinese rare books and manuscripts in bulk; these documents would all serve as a part of the Sino-American war effort. The State Department eventually finally allocated $100,000 (equivalent to $1,300,000 today) to buy select collections of rare Chinese books and manuscripts. The three men spent the following months curating the collection and devising ways to circumvent Japanese detection by air and by water and ship them to the United States.\n\n{.image}\nsource: FairbankLetter.jpg\ncaption: Photo of original letter sent from Fairbank to Columbia in 1943.\nalign: right\n{}\n\ntext: According to Dr. Wang many of the genealogies in the East Asian Studies Library arrived at Columbia during these first exchanges. In 1944, Columbia University was among the first to purchase Confucian classics, contemporary manuscripts, and other rare books from China. Since Yuan and Yoh were both alumni of the university, the president of Columbia Library Services gave them full rein of the transactions and the funds necessary to safely transport the chosen rare books and manuscripts to the shores of New York City.\n\ntext: Unbeknownst to Yuan, Yoh and Fairbank, a few decades later the Church of Jesus Christ of Latter-day Saints (commonly known as the Mormon Church) trained their sights on these shipments of genealogies. Unlike these three men, who sought to preserve the rich history recorded in Chinese jia pu, the Mormon Church had an agenda for these genealogies that can only be described as imperialistic.\n\ntext: The Family History Center (formerly known as Genealogical Society of Salt Lake City, Utah) is the genealogy arm of the Mormon Church and has a Granite Vault tucked 700 feet deep into the side of a canyon in Utah. For over a century Family History Center has actively collected millions of family records. One of the main tenets of the Mormon faith is proxy baptism— (also known as baptism for the dead). The Mormon Church justifies this practicebaptism for the dead with quotes from scripture (“Else what shall they do which are baptized for the dead, if the dead rise not at all?”), claiming that the deceased possesses free agency to convert to Mormonism. The Church has compiled a list of 400 million names, all of whom have been baptized or is cleared for the rite those baptized or cleared for the rite.\n\ntext: ...\n\ntext: As I was searching for any trace of my great-grandfather in the Columbia University archives, I noticed something peculiar: many of the genealogies were labeled “microfilmed for the Genealogical Society of Salt Lake City, Utah”. The Society (now known as Family History Center) is the genealogy arm of the Mormon Church and has a Granite Vault tucked 700 feet deep into the side of a canyon in Utah. For over a century Family History Center has actively collected millions of family records. One of the main tenets of the Mormon faith is proxy baptism— baptism for the dead. The Mormon Church justifies this practice with quotes from scripture (“Else what shall they do which are baptized for the dead, if the dead rise not at all?”), claiming that the deceased possesses free agency to convert to Mormonism. The Church has compiled a list of 400 million names, all of whom have been baptized or is cleared for the rite those baptized or cleared for the rite.\n\n{.image}\nsource: MicrofilmedforGenealogicalSocietyOfSaltLakeCity.jpg\ncaption: Microfilmed for Genealogical Society of Salt Lake City.\nalign: center\n{}\n\ntext: The biographical information found in Chinese jia pu allows proxy baptisms to be performed for the deceased ancestors recorded in the genealogies. Collecting these jia pu, then, became a part of the Mormon Church’s expansive prosthelytizing campaign. When I was combing through the school’s collection of microfilmed jia pu, I found copies reproduced for the Mormon Church’s Family History Center as early as 1975. Columbia University anthropologist Myron Cohen jokes in my interview with him that “[the Mormon Church] has probably baptized all of the Chinese people in the genealogies they own by now.”\n\ntext: Recent outcry generated by this practice has not stopped the Mormon Church’s momentum. In 2008 the Vatican Church sent a letter directing Catholic diocese all over the world to prohibit Mormons from accessing records contained in parish registers. But as of 2012 Genealogical Society of Utah established a partnership with Shanghai Library (which holds the largest collection of Chinese genealogy in the world).\n\ntext: Each record, I realize now, may still be the source of pride and joy for a living family in China today. “A written genealogy… represents human behavior,” Cohen offers. Renewing one’s family genealogy calls for a 7-day celebration involving the entire family and a refurbishing of the family’s ancestral halls. Cohen reminds me that genealogies are just as much about forming a community with people in the present-day as they are about reaching back to an ancient ancestor. “Even here in Chinatown, you have these family associations - the Li family association, the Wang family association, they're not family associations, they focus on a common ancestor that unites lots and lots of families… There's a huge genealogical imagination built into local culture,” Cohen muses.\n\n\n{}\n`;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/main';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\n\nconst IMGDIR = './imageAssets';\n\nconst Image = ({ dims, name, leftSide = false }) => {\n  const { leftX, rightX, y, width, height } = dims;\n\n  return (\n    <image\n      x={leftSide ? leftX : rightX}\n      y={y}\n      width={width}\n      height={height}\n      xlinkHref={require(`${IMGDIR}/${name}`)}\n    />\n  );\n};\n\nexport default Image;\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  mask: {\n    fill: '#000',\n    fillOpacity: 0.35,\n  },\n};\n\nconst ImageVeil = ({ classes, dims }) => {\n  const { leftX, y, width, height } = dims;\n  return (\n    <rect\n      className={classes.mask}\n      x={leftX}\n      y={y}\n      width={2 * width}\n      height={height}\n    />\n  );\n};\n\nexport default injectSheet(styles)(ImageVeil);\n","export { default as Image } from './Image';\nexport { default as ImageVeil } from './ImageVeil';\n"],"sourceRoot":""}