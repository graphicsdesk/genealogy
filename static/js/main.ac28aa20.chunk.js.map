{"version":3,"sources":["components/image sync /^.*$","components/image/imageAssets/ancestral-map.jpg","components/image/imageAssets/poem.jpg","components/image/imageAssets/portraits.jpg","components/image/imageAssets/women.jpg","utils.js","constants.js","components/svg/ShadowFilter.js","components/clip/ClipLabel.js","components/clip/ClipPath.js","components/clip/fadeMovement.js","components/clip/ImageClip.js","components/main/Record.js","components/main/Graphic.js","components/text/Paragraph.js","components/main/App.js","copy.js","serviceWorker.js","index.js","components/image/Image.js","components/image/ImageVeil.js","components/image/index.js"],"names":["map",".","./","./Image","./Image.js","./ImageVeil","./ImageVeil.js","./imageAssets/ancestral-map.jpg","./imageAssets/poem.jpg","./imageAssets/portraits.jpg","./imageAssets/women.jpg","./index","./index.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","p","createIdStore","ids","graphicId","uuidv4","areEqualShallow","a","b","length","every","key","hasOwnProperty","unicodify","text","replace","htmlTagRegexp","clipId","imageId","ShadowFilter","react_default","createElement","height","in","stdDeviation","dx","dy","result","type","slope","font","styles","frontText","fill","transitionDuration","backText","stroke","strokeWidth","opacity","strokeLinejoin","strokeLinecap","injectSheet","_ref","classes","clipDims","dims","x","y","react","assign","className","ClipPath","rx","ry","show","animationDuration","animation","hide","@keyframes fadeIn","from","to","@keyframes fadeOut","fadeMovement","WrappedComponent","FadeComponent","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","transitioning","props","label","inherits","createClass","value","prevProps","_this2","prevDims","prevLabel","_this$props","aw","width","ah","bw","bh","Math","abs","areSimilar","setState","setTimeout","Component","clip_ClipPath","xlinkHref","clipPath","clip_ClipLabel","ASPECT_RATIO","margin","top","right","bottom","left","Record","leftImgX","rightImgX","imgY","imgWidth","imgHeight","updateDimensions","document","body","clientWidth","window","innerHeight","debouncedUpdateDimensions","callback","time","interval","clearTimeout","debounceEvent","addEventListener","removeEventListener","_this$state","leftImg","rightImg","_this$props$clip","clip","clipLabel","imgDims","leftX","rightX","clipFracs","w","h","calculateClipDims","objectWithoutProperties","translateX","max","container","style","transform","svg_ShadowFilter","filter","components_image","name","leftSide","clip_ImageClip","stepStyles","marginBottom","display","Graphic","sticky","position","steps","WebkitTransform","padding","& > div > div:last-child","leftStep","objectSpread","justifyContent","rightStep","stepText","backgroundColor","boxShadow","maxWidth","textAlign","color","fontSize","fontFamily","fontWeight","lineHeight","& em","fontStyle","@media (max-width: 767px)","@media (max-width: 575px)","onStepEnter","_ref$data","data","main_Record","react_scrollama_lib","dangerouslySetInnerHTML","__html","PureComponent","string","test","archieml","load","copyAbove","graphics","processSteps","App","content","_ref2","text_Paragraph","_ref3","main_Graphic","Boolean","location","hostname","match","ReactDOM","render","main_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Image","_ref$leftSide","require","react_jss__WEBPACK_IMPORTED_MODULE_1__","react_jss__WEBPACK_IMPORTED_MODULE_1___default","mask","fillOpacity","_Image__WEBPACK_IMPORTED_MODULE_0__","d","_ImageVeil__WEBPACK_IMPORTED_MODULE_1__"],"mappings":"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","file":"static/js/main.ac28aa20.chunk.js","sourcesContent":["var map = {\n\t\".\": 4,\n\t\"./\": 4,\n\t\"./Image\": 18,\n\t\"./Image.js\": 18,\n\t\"./ImageVeil\": 19,\n\t\"./ImageVeil.js\": 19,\n\t\"./imageAssets/ancestral-map.jpg\": 119,\n\t\"./imageAssets/poem.jpg\": 120,\n\t\"./imageAssets/portraits.jpg\": 121,\n\t\"./imageAssets/women.jpg\": 122,\n\t\"./index\": 4,\n\t\"./index.js\": 4\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 118;","module.exports = __webpack_public_path__ + \"static/media/ancestral-map.d04420a2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/poem.d585b53b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/portraits.c29e8623.jpg\";","module.exports = __webpack_public_path__ + \"static/media/women.4c418c48.jpg\";","import uuidv4 from 'uuid/v4';\n\nexport const createIdStore = () => {\n  const ids = {};\n  return graphicId => {\n    if (!(graphicId in ids)) return (ids[graphicId] = uuidv4());\n    return ids[graphicId];\n  };\n};\n\nexport const calculateClipDims = (imgDims, clipFracs) => {\n  const { leftX, y, width, height } = imgDims;\n  const { x: fracX, y: fracY, w: fracW, h: fracH } = clipFracs;\n  return {\n    x: leftX + fracX * width,\n    y: y + fracY * height,\n    width: fracW * width,\n    height: fracH * height,\n  };\n};\n\n// Source: https://gist.github.com/nmsdvid/8807205#gistcomment-2548862\nexport const debounceEvent = (callback, time) => {\n  let interval;\n  return (...args) => {\n    clearTimeout(interval);\n    interval = setTimeout(() => {\n      interval = null;\n      callback(...args);\n    }, time);\n  };\n};\n\nexport const areEqualShallow = (a, b) =>\n  Object.keys(a).length === Object.keys(b).length &&\n  Object.keys(a).every(key => b.hasOwnProperty(key) && a[key] === b[key]);\n\n// Compares two dimension objects\nexport const areSimilar = (a, b) => {\n  const { width: aw, height: ah } = a;\n  const { width: bw, height: bh } = b;\n\n  return Math.abs(ah / aw - bh / bw) < 0.001;\n};\n\n// An extremely limited unicodifier improved on a case-by-case basis\nexport const unicodify = text =>\n  text\n    .replace('“', '\\u201c')\n    .replace('”', '\\u201d')\n    .replace('’', '\\u2019')\n    .replace('‘', '\\u2018');\n\nconst htmlTagRegexp = /<[a-z][\\s\\S]*>/i;\nexport const hasHTMLElements = string => htmlTagRegexp.test(string);\n","import { createIdStore } from './utils';\n\nexport const clipId = createIdStore();\nexport const imageId = createIdStore();\n\nexport const shadowId = 'drop-shadow-filter';\n","import React from 'react';\nimport { shadowId } from '../../constants';\n\n// Adapted from https://stackoverflow.com/questions/6088409/svg-drop-shadow-using-css3\nconst ShadowFilter = () => (\n  <filter id={shadowId} height=\"130%\">\n    <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"7\" />\n    <feOffset dx=\"1\" dy=\"8\" result=\"offsetblur\" />\n    <feComponentTransfer>\n      <feFuncA type=\"linear\" slope=\"0.5\" />\n    </feComponentTransfer>\n    <feMerge>\n      <feMergeNode />\n      <feMergeNode in=\"SourceGraphic\" />\n    </feMerge>\n  </filter>\n);\n\nexport default ShadowFilter;\n","import React, { Fragment } from 'react';\nimport injectSheet from 'react-jss';\n\nconst font = '500 1rem \"Atlas Grotesk\"';\nconst styles = {\n  frontText: {\n    font,\n    fill: '#fff',\n    transitionDuration: '0.3s',\n  },\n  backText: {\n    font,\n    stroke: '#333',\n    strokeWidth: 2,\n    opacity: 0.8,\n    strokeLinejoin: 'round',\n    strokeLinecap: 'round',\n  },\n};\n\nconst ClipLabel = ({ classes, dims: clipDims, text }) => {\n  const { x, y, height } = clipDims;\n  const dims = { x, y };\n  if (y > 12) {\n    dims.y -= 10;\n  } else {\n    dims.y += height + 6;\n  }\n\n  return (\n    <Fragment>\n      <text className={classes.backText} {...dims}>\n        {text}\n      </text>\n      <text className={classes.frontText} {...dims}>\n        {text}\n      </text>\n    </Fragment>\n  );\n};\n\nexport default injectSheet(styles)(ClipLabel);\n","import React from 'react';\nimport { clipId } from '../../constants';\n\nconst CORNER_RADIUS = 3;\n\nconst ClipPath = ({ graphicId, dims }) => (\n  <clipPath id={clipId(graphicId)}>\n    <rect {...dims} rx={CORNER_RADIUS} ry={CORNER_RADIUS} />\n  </clipPath>\n);\n\nexport default ClipPath;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport injectSheet from 'react-jss';\nimport { areEqualShallow, areSimilar } from '../../utils';\n\nconst animationDuration = 500;\n\nconst styles = {\n  show: {\n    animationDuration,\n    animation: 'fadeIn',\n  },\n  hide: {\n    animationDuration,\n    animation: 'fadeOut',\n  },\n  '@keyframes fadeIn': {\n    from: { opacity: 0 },\n    to: { opacity: 1 },\n  },\n  '@keyframes fadeOut': {\n    from: { opacity: 1 },\n    to: { opacity: 0 },\n  },\n};\n\nconst fadeMovement = WrappedComponent => {\n  class FadeComponent extends Component {\n    state = {\n      transitioning: true,\n      dims: this.props.dims,\n      label: this.props.label,\n    };\n\n    componentDidUpdate(prevProps) {\n      const { dims: prevDims, label: prevLabel } = prevProps;\n      const { dims, label } = this.props;\n\n      if (areEqualShallow(prevProps.dims, this.props.dims)) {\n        return;\n      }\n      // If label remains the same and we think the highlighting box\n      // changed, we can assume the page was just resized\n      if (areSimilar(prevProps.dims, this.props.dims) && prevLabel === label) {\n        this.setState({ dims });\n        return;\n      }\n\n      // If previous clip was invisible...\n      if (prevDims.width === 0 && prevDims.height === 0) {\n        // If current clip is visible, it must be the first one we animate.\n        // Thus, we skip the transition-out animation and transition it in.\n        if (dims.width > 0 && dims.height > 0) {\n          this.setState({ transitioning: false, dims, label });\n        }\n        // If the current clip was not visible, this resize must have been\n        // triggered by a resize/initial dimension processing. Ignore.\n        return;\n      }\n\n      this.setState({ transitioning: true, dims: prevDims, label: prevLabel });\n      setTimeout(() => {\n        this.setState({ transitioning: false, dims, label });\n      }, animationDuration);\n    }\n\n    render() {\n      const { transitioning } = this.state;\n      const { classes } = this.props;\n      return (\n        <g className={transitioning ? classes.hide : classes.show}>\n          <WrappedComponent {...this.props} {...this.state} />\n        </g>\n      );\n    }\n  }\n\n  FadeComponent.propTypes = {\n    dims: PropTypes.exact({\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired,\n      width: PropTypes.number.isRequired,\n      height: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\n  return injectSheet(styles)(FadeComponent);\n};\n\nexport default fadeMovement;\n","import React, { Fragment } from 'react';\nimport ClipLabel from './ClipLabel';\nimport ClipPath from './ClipPath';\nimport fadeMovement from './fadeMovement';\nimport { clipId, imageId } from '../../constants';\n\nconst ImageClip = ({ graphicId, dims, label }) => (\n  <Fragment>\n    <defs>\n      <ClipPath dims={dims} graphicId={graphicId} />\n    </defs>\n    <use\n      xlinkHref={`#${imageId(graphicId)}`}\n      clipPath={`url(#${clipId(graphicId)})`}\n    />\n    <ClipLabel dims={dims} text={label} />\n  </Fragment>\n);\n\nexport default fadeMovement(ImageClip);\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\nimport { imageId, shadowId } from '../../constants';\nimport { debounceEvent, calculateClipDims } from '../../utils';\n\nimport { ShadowFilter } from '../svg';\nimport { Image, ImageVeil } from '../image';\nimport { ImageClip } from '../clip';\n\nconst ASPECT_RATIO = 1504 / 1024;\nconst DEBOUNCE_TIME = 250;\n\nconst margin = { top: 20, right: 20, bottom: 24, left: 20 };\n\nconst styles = {\n  container: {\n    transitionDuration: '0.6s',\n  },\n};\n\nclass Record extends Component {\n  state = {\n    height: null,\n\n    leftImgX: null,\n    rightImgX: null,\n    imgY: null,\n    imgWidth: null,\n    imgHeight: null,\n  };\n\n  componentDidMount() {\n    setTimeout(() => {\n      // hacky way to wait for document.body.clientWidth to account for scrollbar\n      this.updateDimensions();\n\n      this.debouncedUpdateDimensions = debounceEvent(\n        this.updateDimensions,\n        DEBOUNCE_TIME,\n      );\n      window.addEventListener('resize', this.debouncedUpdateDimensions);\n    }, 0);\n\n    const height = window.innerHeight;\n    this.setState({ height, imgHeight: height - margin.top - margin.bottom });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedUpdateDimensions);\n  }\n\n  updateDimensions = () => {\n    let width = document.body.clientWidth;\n    let height = window.innerHeight;\n\n    let imgHeight = height - margin.top - margin.bottom;\n    let imgWidth = imgHeight / ASPECT_RATIO;\n    let imgY = margin.top;\n\n    if (width > 512) {\n      if (imgWidth * 2 > width) {\n        imgWidth = (width - margin.left - margin.right) / 2;\n      }\n    } else {\n      imgWidth = width - margin.left - margin.right;\n    }\n    imgHeight = imgWidth * ASPECT_RATIO;\n    imgY += (height - margin.top - margin.bottom - imgHeight) / 2;\n\n    this.setState({\n      width,\n      height,\n      leftImgX: width / 2 - imgWidth,\n      rightImgX: width / 2,\n      imgY,\n      imgWidth,\n      imgHeight,\n    });\n  };\n\n  render() {\n    const {\n      width,\n      height,\n      leftImgX,\n      rightImgX,\n      imgY,\n      imgWidth,\n      imgHeight,\n    } = this.state;\n    const {\n      classes,\n      graphicId,\n      leftImg,\n      rightImg,\n      clip: { clipLabel, ...clipFracs },\n    } = this.props;\n\n    const imgDims = {\n      leftX: leftImgX,\n      rightX: rightImgX,\n      y: imgY,\n      width: imgWidth,\n      height: imgHeight,\n    };\n    const clipDims = calculateClipDims(imgDims, clipFracs);\n\n    let translateX = 0;\n    if (width <= 512) {\n      translateX = Math.max(margin.left - clipDims.x, -imgWidth / 2);\n    }\n\n    return (\n      <svg width={width} height={height}>\n        <g\n          className={classes.container}\n          style={{ transform: `translate(${translateX}px, 0px)` }}\n        >\n          <ShadowFilter />\n\n          <g id={imageId(graphicId)} style={{ filter: `url(#${shadowId})` }}>\n            <Image dims={imgDims} name={leftImg} leftSide />\n            <Image dims={imgDims} name={rightImg} />\n          </g>\n          <ImageVeil dims={imgDims} />\n\n          <ImageClip graphicId={graphicId} dims={clipDims} label={clipLabel} />\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default injectSheet(styles)(Record);\n","import React, { PureComponent } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\nimport injectSheet from 'react-jss';\nimport Record from './Record';\nimport { areEqualShallow } from '../../utils';\n\nconst stepStyles = {\n  marginBottom: '70vh',\n  display: 'flex',\n};\nconst styles = {\n  Graphic: {\n    marginBottom: '5vh',\n  },\n  sticky: {\n    position: 'sticky',\n    top: 0,\n  },\n  steps: {\n    WebkitTransform: 'translate3d(0, 0, 0)', // https://stackoverflow.com/questions/16033416/while-scrolling-on-an-ios-device-the-z-index-of-elements-isnt-working\n    padding: '0 7vw 110vh 7vw',\n\n    // Remove margin bottom on last className.step\n    '& > div > div:last-child': {\n      marginBottom: 0,\n    },\n  },\n  leftStep: {\n    ...stepStyles,\n    justifyContent: 'flex-start',\n  },\n  rightStep: {\n    ...stepStyles,\n    justifyContent: 'flex-end',\n  },\n  stepText: {\n    backgroundColor: '#fff',\n    boxShadow: '0 5px 15px 0 rgba(0,0,0,0.41)',\n    maxWidth: '500px',\n    textAlign: 'center',\n    color: '#222',\n    padding: '0.9rem',\n    fontSize: '1.1rem',\n    fontFamily: 'Merriweather',\n    fontWeight: 400,\n    lineHeight: '1.9rem',\n    '& em': {\n      color: '#1875E5',\n      fontWeight: 700,\n      fontStyle: 'normal',\n    },\n  },\n  '@media (max-width: 767px)': {\n    steps: { padding: '0 5vw 130vh 5vw' },\n  },\n  '@media (max-width: 575px)': {\n    leftStep: { justifyContent: 'center' },\n    rightStep: { justifyContent: 'center' },\n  },\n};\n\nclass Graphic extends PureComponent {\n  state = {\n    clip: { clipLabel: '', x: 0, y: 0, w: 0, h: 0 },\n  };\n\n  onStepEnter = ({ data: { text, ...clip } }) => {\n    if (!areEqualShallow(this.state.clip, clip)) {\n      this.setState({ clip });\n    }\n  };\n\n  render() {\n    const { clip } = this.state;\n    const { classes, id, leftImg, rightImg, steps } = this.props;\n\n    return (\n      <div className={classes.Graphic}>\n        <figure className={classes.sticky}>\n          <Record\n            graphicId={id}\n            leftImg={leftImg}\n            rightImg={rightImg}\n            clip={clip}\n          />\n        </figure>\n        <article className={classes.steps}>\n          <Scrollama onStepEnter={this.onStepEnter}>\n            {steps.map(data => (\n              <Step key={data.text} data={data}>\n                <div\n                  className={data.x < 1 ? classes.rightStep : classes.leftStep}\n                >\n                  <p\n                    className={classes.stepText}\n                    dangerouslySetInnerHTML={{ __html: data.text }}\n                  />\n                </div>\n              </Step>\n            ))}\n          </Scrollama>\n        </article>\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(styles)(Graphic);\n","import React from 'react';\nimport injectSheet from 'react-jss';\nimport { hasHTMLElements } from '../../utils';\n\nconst styles = {\n  text: {\n    lineHeight: 1.9,\n    fontSize: '1.1rem',\n    fontFamily: 'Merriweather',\n    margin: '0 auto 1.3rem auto',\n    maxWidth: '650px',\n  },\n};\n\nconst Paragraph = ({ classes, text }) => {\n  if (hasHTMLElements(text))\n    return (\n      <p className={classes.text} dangerouslySetInnerHTML={{ __html: text }} />\n    );\n  return <p className={classes.text}>{text}</p>;\n};\n\nexport default injectSheet(styles)(Paragraph);\n","import React from 'react';\nimport archieml from 'archieml';\nimport injectSheet from 'react-jss';\nimport uuidv4 from 'uuid/v4';\nimport Graphic from './Graphic';\nimport { Paragraph } from '../text';\nimport { unicodify } from '../../utils';\n\nimport copy from '../../copy';\nconst { copyAbove, graphics } = archieml.load(copy);\n\nconst processSteps = steps =>\n  steps.map(({ text, x, y, w, h, clipLabel }) => ({\n    text: unicodify(text),\n    x: +x,\n    y: +y,\n    w: +w,\n    h: +h,\n    clipLabel,\n  }));\n\nconst styles = {\n  App: {\n    margin: '5vh 0',\n  },\n  content: {\n    marginBottom: '2rem',\n    padding: '0 15px',\n  },\n};\n\nconst App = ({ classes }) => (\n  <div className={classes.App}>\n    <div className={classes.content}>\n      {copyAbove.map(text => <Paragraph key={text} text={text} />)}\n    </div>\n    {graphics.map(({ leftImg, rightImg, steps }) => {\n      const id = uuidv4();\n      return (\n        <Graphic\n          key={id}\n          id={id}\n          leftImg={leftImg}\n          rightImg={rightImg}\n          steps={processSteps(steps)}\n        />\n      );\n    })}\n  </div>\n);\n\nexport default injectSheet(styles)(App);\n","export default `\n[copyAbove]\n\n* In my imagination, the description would be short and basic, something along the lines of “youngest of three, born on a winter’s night in 1900 in Dong Yang city”. This volume was published in 1920 when my great-grandfather would have only been twenty years old. He had been born in the outskirts of Dongyang city to a farming family that barely earned enough money to send him to school. And so I was skeptical as to whether his family would have even been included in such a polished genealogy book. If my great-grandfather’s family were included in a printed genealogy record, I thought, Columbia University would surely have it. At 20,000 volumes, Columbia University boasts the largest collection of Chinese genealogical records in North America, with records dating as far back as the early 12th century.\n* These <i>Jia pu</i> are a kaleidoscope into everyday life, and each carefully compiled record became a new world that sprawled out in front of me. I was looking for something more fulfilling than standard family trees and ethnic percentages — I wanted short anecdotes and colorful pictures that narrated how my great-grandfather lived day-to-day. Though I ultimately did not uncover the story of my great-grandparents, unexpected and intriguing stories leapt off each page of the genealogies that I combed through.\n\n[graphics]\n\nleftImg: poem.jpg\nrightImg: women.jpg\n\n[.steps]\n\ntext: These records (known as <i>jia pu</i>) may hold <em>poems that vocalize the ache of missing</em> a beloved family member next to a quiet, moonlit stream centuries ago;\nx: 0.01\ny: 0.01\nw: 0.98\nh: 0.98\n\ntext: This poem is entitled, \\u201cWhile staying in the Pei Household I reminisce about an elder of the family\\u201d, by Ma Dai.\nx: 0.38\ny: 0.04\nw: 0.2\nh: 0.90\nclipLabel:\n\npoem: Sitting on the lone rock under the tree, there’s light dew between the grass.\nMy heart misses the one who has sat on this rock but they are no longer here.\nBirds soar among the clouds, flying towards the south. The meandering mountain fill the quiet night as the clear, cool stream reflects the moonlight.\nA light drift blowing southward hugs me faithfully. The river and sea reflects each other from afar.\n:end\nx: 0.38\ny: 0.04\nw: 0.2\nh: 0.90\nclipLabel:\n\ntext: They could carry <em>proud accounts of noteworthy women</em> in the family.\nx: 1.01\ny: 0.01\nw: 0.98\nh: 0.98\nclipLabel:\n\n[]\n\nleftImg: ancestral-map.jpg\nrightImg: portraits.jpg\n\n[.steps]\n\ntext: They might map out the <i>fengshui</i> of an <em>ancestral burial site</em> so that future generations may pay their respect to their ancestors.\nx: 0.26\ny: 0.32\nw: 0.48\nh: 0.58\nclipLabel:\n\ntext: And they might provide <em>portraits of the noblemen</em> from whom the family descends.\nx: 1\ny: 0.11\nw: 1\nh: 0.54\nclipLabel:\n\n[]\n\n[copyBelow]\n\n\n\n{}\n`;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/main';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\n\nconst IMGDIR = './imageAssets';\n\nconst Image = ({ dims, name, leftSide = false }) => {\n  const { leftX, rightX, y, width, height } = dims;\n\n  return (\n    <image\n      x={leftSide ? leftX : rightX}\n      y={y}\n      width={width}\n      height={height}\n      xlinkHref={require(`${IMGDIR}/${name}`)}\n    />\n  );\n};\n\nexport default Image;\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  mask: {\n    fill: '#000',\n    fillOpacity: 0.35,\n  },\n};\n\nconst ImageVeil = ({ classes, dims }) => {\n  const { leftX, y, width, height } = dims;\n  return (\n    <rect\n      className={classes.mask}\n      x={leftX}\n      y={y}\n      width={2 * width}\n      height={height}\n    />\n  );\n};\n\nexport default injectSheet(styles)(ImageVeil);\n","export { default as Image } from './Image';\nexport { default as ImageVeil } from './ImageVeil';\n"],"sourceRoot":""}