{"version":3,"sources":["components/image sync /^.*$","components/image/imageAssets/ancestral-map.jpg","components/image/imageAssets/portraits.jpg","utils.js","constants.js","components/svg/ShadowFilter.js","components/clip/ClipLabel.js","components/clip/ClipPath.js","components/clip/fadeMovement.js","components/clip/ImageClip.js","components/main/Record.js","components/main/Graphic.js","components/main/App.js","copy.js","serviceWorker.js","index.js","components/image/Image.js","components/image/ImageVeil.js","components/image/index.js"],"names":["map",".","./","./Image","./Image.js","./ImageVeil","./ImageVeil.js","./imageAssets/ancestral-map.jpg","./imageAssets/portraits.jpg","./index","./index.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","p","createIdStore","ids","graphicId","uuidv4","areEqualShallow","a","b","length","every","key","hasOwnProperty","clipId","imageId","ShadowFilter","react_default","createElement","height","in","stdDeviation","dx","dy","result","type","slope","font","styles","frontText","fill","transitionDuration","backText","stroke","strokeWidth","opacity","strokeLinejoin","strokeLinecap","injectSheet","_ref","classes","clipDims","dims","text","x","y","react","assign","className","ClipPath","rx","ry","show","animationDuration","animation","hide","@keyframes fadeIn","from","to","@keyframes fadeOut","fadeMovement","WrappedComponent","FadeComponent","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","transitioning","props","label","inherits","createClass","value","prevProps","_this2","prevDims","prevLabel","_this$props","width","console","log","setState","setTimeout","Component","clip_ClipPath","xlinkHref","clipPath","clip_ClipLabel","ASPECT_RATIO","margin","top","right","bottom","left","Record","leftImgX","rightImgX","imgY","imgWidth","imgHeight","updateDimensions","document","body","clientWidth","window","innerHeight","_this$state","leftImg","rightImg","_this$props$clip","clip","clipLabel","imgDims","leftX","rightX","clipFracs","w","h","calculateClipDims","objectWithoutProperties","svg_ShadowFilter","style","filter","components_image","name","leftSide","clip_ImageClip","Graphic","onStepEnter","_ref$data","data","steps","sticky","main_Record","react_scrollama_lib","step","stepText","PureComponent","marginBottom","position","WebkitTransform","padding","backgroundColor","boxShadow","maxWidth","&:last-child","textAlign","color","fontSize","fontFamily","fontWeight","lineHeight","graphics","archieml","load","processSteps","App","marginTop","_ref2","_ref3","main_Graphic","Boolean","location","hostname","match","ReactDOM","render","main_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Image","_ref$leftSide","require","react_jss__WEBPACK_IMPORTED_MODULE_1__","react_jss__WEBPACK_IMPORTED_MODULE_1___default","mask","fillOpacity","_Image__WEBPACK_IMPORTED_MODULE_0__","d","_ImageVeil__WEBPACK_IMPORTED_MODULE_1__"],"mappings":"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","file":"static/js/main.5a3575b0.chunk.js","sourcesContent":["var map = {\n\t\".\": 4,\n\t\"./\": 4,\n\t\"./Image\": 18,\n\t\"./Image.js\": 18,\n\t\"./ImageVeil\": 19,\n\t\"./ImageVeil.js\": 19,\n\t\"./imageAssets/ancestral-map.jpg\": 118,\n\t\"./imageAssets/portraits.jpg\": 119,\n\t\"./index\": 4,\n\t\"./index.js\": 4\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 117;","module.exports = __webpack_public_path__ + \"static/media/ancestral-map.d04420a2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/portraits.c29e8623.jpg\";","import uuidv4 from 'uuid/v4';\n\nexport const createIdStore = () => {\n  const ids = {};\n  return graphicId => {\n    if (!(graphicId in ids)) return (ids[graphicId] = uuidv4());\n    return ids[graphicId];\n  };\n};\n\nexport const calculateClipDims = (imgDims, clipFracs) => {\n  const { leftX, y, width, height } = imgDims;\n  const { x: fracX, y: fracY, w: fracW, h: fracH } = clipFracs;\n  return {\n    x: leftX + fracX * width,\n    y: y + fracY * height,\n    width: fracW * width,\n    height: fracH * height,\n  };\n};\n\nexport const areEqualShallow = (a, b) =>\n  Object.keys(a).length === Object.keys(b).length &&\n  Object.keys(a).every(key => b.hasOwnProperty(key) && a[key] === b[key]);\n","import { createIdStore } from './utils';\n\nexport const clipId = createIdStore();\nexport const imageId = createIdStore();\n\nexport const shadowId = 'drop-shadow-filter';\n","import React from 'react';\nimport { shadowId } from '../../constants';\n\n// Adapted from https://stackoverflow.com/questions/6088409/svg-drop-shadow-using-css3\nconst ShadowFilter = () => (\n  <filter id={shadowId} height=\"130%\">\n    <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"7\" />\n    <feOffset dx=\"1\" dy=\"8\" result=\"offsetblur\" />\n    <feComponentTransfer>\n      <feFuncA type=\"linear\" slope=\"0.5\" />\n    </feComponentTransfer>\n    <feMerge>\n      <feMergeNode />\n      <feMergeNode in=\"SourceGraphic\" />\n    </feMerge>\n  </filter>\n);\n\nexport default ShadowFilter;\n","import React, { Fragment } from 'react';\nimport injectSheet from 'react-jss';\n\nconst font = '500 1rem \"Atlas Grotesk\"';\nconst styles = {\n  frontText: {\n    font,\n    fill: '#fff',\n    transitionDuration: '0.3s',\n  },\n  backText: {\n    font,\n    stroke: '#333',\n    strokeWidth: 2,\n    opacity: 0.8,\n    strokeLinejoin: 'round',\n    strokeLinecap: 'round',\n  },\n};\n\nconst ClipLabel = ({ classes, dims: clipDims, text }) => {\n  const { x, y, height } = clipDims;\n  const dims = { x, y };\n  if (y > 12) {\n    dims.y -= 10;\n  } else {\n    dims.y += height + 6;\n  }\n\n  return (\n    <Fragment>\n      <text className={classes.backText} {...dims}>\n        {text}\n      </text>\n      <text className={classes.frontText} {...dims}>\n        {text}\n      </text>\n    </Fragment>\n  );\n};\n\nexport default injectSheet(styles)(ClipLabel);\n","import React from 'react';\nimport { clipId } from '../../constants';\n\nconst CORNER_RADIUS = 3;\n\nconst ClipPath = ({ graphicId, dims }) => (\n  <clipPath id={clipId(graphicId)}>\n    <rect {...dims} rx={CORNER_RADIUS} ry={CORNER_RADIUS} />\n  </clipPath>\n);\n\nexport default ClipPath;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport injectSheet from 'react-jss';\nimport { areEqualShallow } from '../../utils';\n\nconst animationDuration = 500;\n\nconst styles = {\n  show: {\n    animationDuration,\n    animation: 'fadeIn',\n  },\n  hide: {\n    animationDuration,\n    animation: 'fadeOut',\n  },\n  '@keyframes fadeIn': {\n    from: { opacity: 0 },\n    to: { opacity: 1 },\n  },\n  '@keyframes fadeOut': {\n    from: { opacity: 1 },\n    to: { opacity: 0 },\n  },\n};\n\nconst fadeMovement = WrappedComponent => {\n  class FadeComponent extends Component {\n    state = {\n      transitioning: true,\n      dims: this.props.dims,\n      label: this.props.label,\n    };\n\n    componentDidUpdate(prevProps) {\n      const { dims: prevDims, label: prevLabel } = prevProps;\n      const { dims, label } = this.props;\n\n      if (\n        areEqualShallow(prevProps.dims, this.props.dims) ||\n        prevLabel === label\n      )\n        return;\n\n      // If component has never been shown before, no need to fade out\n      if (prevDims.width + prevDims.height === 0) {\n        this.setState({ transitioning: false, dims, label });\n        return;\n      }\n\n      console.log('entering transition');\n      this.setState({ transitioning: true, dims: prevDims, label: prevLabel });\n      setTimeout(() => {\n        console.log('exiting transition');\n        this.setState({ transitioning: false, dims, label });\n      }, animationDuration);\n    }\n\n    render() {\n      const { transitioning } = this.state;\n      const { classes } = this.props;\n      return (\n        <g className={transitioning ? classes.hide : classes.show}>\n          <WrappedComponent {...this.props} {...this.state} />\n        </g>\n      );\n    }\n  }\n\n  FadeComponent.propTypes = {\n    dims: PropTypes.exact({\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired,\n      width: PropTypes.number.isRequired,\n      height: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\n  return injectSheet(styles)(FadeComponent);\n};\n\nexport default fadeMovement;\n","import React, { Fragment } from 'react';\nimport ClipLabel from './ClipLabel';\nimport ClipPath from './ClipPath';\nimport fadeMovement from './fadeMovement';\nimport { clipId, imageId } from '../../constants';\n\nconst ImageClip = ({ graphicId, dims, label }) => (\n  <Fragment>\n    <defs>\n      <ClipPath dims={dims} graphicId={graphicId} />\n    </defs>\n    <use\n      xlinkHref={`#${imageId(graphicId)}`}\n      clipPath={`url(#${clipId(graphicId)})`}\n    />\n    <ClipLabel dims={dims} text={label} />\n  </Fragment>\n);\n\nexport default fadeMovement(ImageClip);\n","import React, { Component } from 'react';\n\nimport { ShadowFilter } from '../svg';\nimport { Image, ImageVeil } from '../image';\nimport { ImageClip } from '../clip';\n\nimport { imageId, shadowId } from '../../constants';\nimport { calculateClipDims } from '../../utils';\n\nconst ASPECT_RATIO = 1504 / 1024;\nconst margin = { top: 20, right: 20, bottom: 24, left: 20 };\n\nclass Record extends Component {\n  state = {\n    height: null,\n\n    leftImgX: null,\n    rightImgX: null,\n    imgY: null,\n    imgWidth: null,\n    imgHeight: null,\n  };\n\n  componentDidMount() {\n    setTimeout(() => {\n      // hacky way to wait for document.body.clientWidth to account for scrollbar\n      this.updateDimensions();\n    }, 0);\n\n    const height = window.innerHeight;\n    this.setState({ height, imgHeight: height - margin.top - margin.bottom });\n  }\n\n  updateDimensions = () => {\n    const width = document.body.clientWidth;\n    const imgWidth = this.state.imgHeight / ASPECT_RATIO;\n\n    this.setState({\n      leftImgX: width / 2 - imgWidth,\n      rightImgX: width / 2,\n      imgY: margin.top,\n      imgWidth,\n    });\n  };\n\n  render() {\n    const {\n      height,\n      leftImgX,\n      rightImgX,\n      imgY,\n      imgWidth,\n      imgHeight,\n    } = this.state;\n    const {\n      graphicId,\n      leftImg,\n      rightImg,\n      clip: { clipLabel, ...clipFracs },\n    } = this.props;\n\n    const imgDims = {\n      leftX: leftImgX,\n      rightX: rightImgX,\n      y: imgY,\n      width: imgWidth,\n      height: imgHeight,\n    };\n    const clipDims = calculateClipDims(imgDims, clipFracs);\n\n    return (\n      <svg width={document.body.clientWidth} height={height}>\n        <ShadowFilter />\n\n        <g id={imageId(graphicId)} style={{ filter: `url(#${shadowId})` }}>\n          <Image dims={imgDims} name={leftImg} leftSide />\n          <Image dims={imgDims} name={rightImg} />\n        </g>\n        <ImageVeil dims={imgDims} />\n\n        <ImageClip graphicId={graphicId} dims={clipDims} label={clipLabel} />\n      </svg>\n    );\n  }\n}\n\nexport default Record;\n","import React, { PureComponent } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\nimport injectSheet from 'react-jss';\nimport Record from './Record';\nimport { areEqualShallow } from '../../utils';\n\nconst styles = {\n  Graphic: {\n    marginBottom: '70vh',\n  },\n  sticky: {\n    position: 'sticky',\n    top: 0,\n  },\n  steps: {\n    WebkitTransform: 'translate3d(0, 0, 0)', // https://stackoverflow.com/questions/16033416/while-scrolling-on-an-ios-device-the-z-index-of-elements-isnt-working\n    padding: '0 5vw 130vh 5vw',\n  },\n  step: {\n    position: 'relative',\n    backgroundColor: '#fff',\n    boxShadow: '0 5px 15px 0 rgba(0,0,0,0.41)',\n    margin: '0 auto 70vh auto',\n    maxWidth: '500px',\n    '&:last-child': {\n      marginBottom: 0,\n    },\n  },\n  stepText: {\n    textAlign: 'center',\n    color: '#222',\n    padding: '1rem',\n    fontSize: '1.1rem',\n    fontFamily: 'Merriweather',\n    fontWeight: 400,\n    lineHeight: '1.9rem',\n  },\n};\n\nclass Graphic extends PureComponent {\n  state = {\n    clip: { clipLabel: '', x: 0, y: 0, w: 0, h: 0 },\n  };\n\n  onStepEnter = ({ data: { text, ...clip } }) => {\n    if (!areEqualShallow(this.state.clip, clip)) {\n      this.setState({ clip });\n    }\n  };\n\n  render() {\n    const { clip } = this.state;\n    const { classes, id, leftImg, rightImg, steps } = this.props;\n\n    return (\n      <div className={classes.Graphic}>\n        <figure className={classes.sticky}>\n          <Record\n            graphicId={id}\n            leftImg={leftImg}\n            rightImg={rightImg}\n            clip={clip}\n          />\n        </figure>\n        <article className={classes.steps}>\n          <Scrollama onStepEnter={this.onStepEnter}>\n            {steps.map(data => (\n              <Step key={data.text} data={data}>\n                <div className={classes.step}>\n                  <p className={classes.stepText}>{data.text}</p>\n                </div>\n              </Step>\n            ))}\n          </Scrollama>\n        </article>\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(styles)(Graphic);\n","import React from 'react';\nimport archieml from 'archieml';\nimport injectSheet from 'react-jss';\nimport uuidv4 from 'uuid/v4';\nimport Graphic from './Graphic';\n\nimport copy from '../../copy';\nconst graphics = archieml.load(copy).graphics;\n\nconst processSteps = steps =>\n  steps.map(({ text, x, y, w, h, clipLabel }) => ({\n    text,\n    x: +x,\n    y: +y,\n    w: +w,\n    h: +h,\n    clipLabel,\n  }));\n\nconst styles = {\n  App: {\n    marginTop: '70vh',\n  },\n};\n\nconst App = ({ classes }) => (\n  <div className={classes.App}>\n    {graphics.map(({ leftImg, rightImg, steps }) => {\n      const id = uuidv4();\n      return (\n        <Graphic\n          key={id}\n          id={id}\n          leftImg={leftImg}\n          rightImg={rightImg}\n          steps={processSteps(steps)}\n        />\n      );\n    })}\n  </div>\n);\n\nexport default injectSheet(styles)(App);\n","export default `\n[graphics]\n\nleftImg: ancestral-map.jpg\nrightImg: portraits.jpg\n\n[.steps]\n\ntext: I was joining the ranks of millions of American who have dug into their personal histories.\nx: 0.5\ny: 0.5\nw: 0.4\nh: 0.4\nclipLabel: Ancestral map\n\ntext: The popular 1976 miniseries Roots had launched a genealogy craze that swept across the continent and sent many on a quest to find their family roots.\nx: 0.5\ny: 0.5\nw: 0.5\nh: 0.6\nclipLabel: Family portrait\n\ntext: In recent years, genetic biology has become increasingly important in the story arc of American popular genealogy.\nx: 1.6\ny: 0.1\nw: 0.3\nh: 0.7\nclipLabel: Great poem\n\n[]\n\nleftImg: portraits.jpg\nrightImg: ancestral-map.jpg\n\n[.steps]\n\ntext: The Fulton Center looks like where they launch rockets from Kennedy Space Center.\nx: 0.5\ny: 0.5\nw: 0.4\nh: 0.4\nclipLabel: Clip label\n\ntext: Are whiteboards with glass on them really whiteboards? They\\u2019re pretty sick though.\nx: 0.5\ny: 0.5\nw: 0.5\nh: 0.6\nclipLabel: My glasses\n\ntext: In recent years, genetic biology has become increasingly important in the story arc of American popular genealogy.\nx: 1.6\ny: 0.1\nw: 0.3\nh: 0.7\nclipLabel: Fell :(\n\n[]\n\n{}\n`;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/main';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\n\nconst IMGDIR = './imageAssets';\n\nconst Image = ({ dims, name, leftSide = false }) => {\n  const { leftX, rightX, y, width, height } = dims;\n\n  return (\n    <image\n      x={leftSide ? leftX : rightX}\n      y={y}\n      width={width}\n      height={height}\n      xlinkHref={require(`${IMGDIR}/${name}`)}\n    />\n  );\n};\n\nexport default Image;\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  mask: {\n    fill: '#000',\n    fillOpacity: 0.35,\n  },\n};\n\nconst ImageVeil = ({ classes, dims }) => {\n  const { leftX, y, width, height } = dims;\n  return (\n    <rect\n      className={classes.mask}\n      x={leftX}\n      y={y}\n      width={2 * width}\n      height={height}\n    />\n  );\n};\n\nexport default injectSheet(styles)(ImageVeil);\n","export { default as Image } from './Image';\nexport { default as ImageVeil } from './ImageVeil';\n"],"sourceRoot":""}