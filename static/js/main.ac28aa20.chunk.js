(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){var a={".":4,"./":4,"./Image":18,"./Image.js":18,"./ImageVeil":19,"./ImageVeil.js":19,"./imageAssets/ancestral-map.jpg":119,"./imageAssets/poem.jpg":120,"./imageAssets/portraits.jpg":121,"./imageAssets/women.jpg":122,"./index":4,"./index.js":4};function i(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=118},119:function(e,t,n){e.exports=n.p+"static/media/ancestral-map.d04420a2.jpg"},120:function(e,t,n){e.exports=n.p+"static/media/poem.d585b53b.jpg"},121:function(e,t,n){e.exports=n.p+"static/media/portraits.c29e8623.jpg"},122:function(e,t,n){e.exports=n.p+"static/media/women.4c418c48.jpg"},123:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(49),o=n.n(r),s=n(50),l=n.n(s),c=n(1),m=n.n(c),h=n(12),d=n.n(h),u=n(20),g=n(6),p=n(7),f=n(9),y=n(8),w=n(10),b=n(30),v=n(29),x=function(){var e={};return function(t){return t in e?e[t]:e[t]=d()()}},E=function(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(function(n){return t.hasOwnProperty(n)&&e[n]===t[n]})},I=function(e){return e.replace("\u201c","\u201c").replace("\u201d","\u201d").replace("\u2019","\u2019").replace("\u2018","\u2018")},j=/<[a-z][\s\S]*>/i,k=x(),O=x(),S=function(){return i.a.createElement("filter",{id:"drop-shadow-filter",height:"130%"},i.a.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"7"}),i.a.createElement("feOffset",{dx:"1",dy:"8",result:"offsetblur"}),i.a.createElement("feComponentTransfer",null,i.a.createElement("feFuncA",{type:"linear",slope:"0.5"})),i.a.createElement("feMerge",null,i.a.createElement("feMergeNode",null),i.a.createElement("feMergeNode",{in:"SourceGraphic"})))},T=n(4),A='500 1rem "Atlas Grotesk"',N={frontText:{font:A,fill:"#fff",transitionDuration:"0.3s"},backText:{font:A,stroke:"#333",strokeWidth:2,opacity:.8,strokeLinejoin:"round",strokeLinecap:"round"}},D=m()(N)(function(e){var t=e.classes,n=e.dims,r=e.text,o=n.x,s=n.y,l=n.height,c={x:o,y:s};return s>12?c.y-=10:c.y+=l+6,i.a.createElement(a.Fragment,null,i.a.createElement("text",Object.assign({className:t.backText},c),r),i.a.createElement("text",Object.assign({className:t.frontText},c),r))}),L=function(e){var t=e.graphicId,n=e.dims;return i.a.createElement("clipPath",{id:k(t)},i.a.createElement("rect",Object.assign({},n,{rx:3,ry:3})))},H={show:{animationDuration:500,animation:"fadeIn"},hide:{animationDuration:500,animation:"fadeOut"},"@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}},"@keyframes fadeOut":{from:{opacity:1},to:{opacity:0}}},W=function(e){var t=function(t){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=Object(f.a)(this,(e=Object(y.a)(n)).call.apply(e,[this].concat(i)))).state={transitioning:!0,dims:t.props.dims,label:t.props.label},t}return Object(w.a)(n,t),Object(p.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this,n=e.dims,a=e.label,i=this.props,r=i.dims,o=i.label;E(e.dims,this.props.dims)||(function(e,t){var n=e.width,a=e.height,i=t.width,r=t.height;return Math.abs(a/n-r/i)<.001}(e.dims,this.props.dims)&&a===o?this.setState({dims:r}):0!==n.width||0!==n.height?(this.setState({transitioning:!0,dims:n,label:a}),setTimeout(function(){t.setState({transitioning:!1,dims:r,label:o})},500)):r.width>0&&r.height>0&&this.setState({transitioning:!1,dims:r,label:o}))}},{key:"render",value:function(){var t=this.state.transitioning,n=this.props.classes;return i.a.createElement("g",{className:t?n.hide:n.show},i.a.createElement(e,Object.assign({},this.props,this.state)))}}]),n}(a.Component);return m()(H)(t)}(function(e){var t=e.graphicId,n=e.dims,r=e.label;return i.a.createElement(a.Fragment,null,i.a.createElement("defs",null,i.a.createElement(L,{dims:n,graphicId:t})),i.a.createElement("use",{xlinkHref:"#".concat(O(t)),clipPath:"url(#".concat(k(t),")")}),i.a.createElement(D,{dims:n,text:r}))}),C=1.46875,M={top:20,right:20,bottom:24,left:20},X=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(i)))).state={height:null,leftImgX:null,rightImgX:null,imgY:null,imgWidth:null,imgHeight:null},n.updateDimensions=function(){var e=document.body.clientWidth,t=window.innerHeight,a=t-M.top-M.bottom,i=a/C,r=M.top;e>512?2*i>e&&(i=(e-M.left-M.right)/2):i=e-M.left-M.right,a=i*C,r+=(t-M.top-M.bottom-a)/2,n.setState({width:e,height:t,leftImgX:e/2-i,rightImgX:e/2,imgY:r,imgWidth:i,imgHeight:a})},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.updateDimensions(),e.debouncedUpdateDimensions=function(e,t){var n;return function(){for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];clearTimeout(n),n=setTimeout(function(){n=null,e.apply(void 0,i)},t)}}(e.updateDimensions,250),window.addEventListener("resize",e.debouncedUpdateDimensions)},0);var t=window.innerHeight;this.setState({height:t,imgHeight:t-M.top-M.bottom})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debouncedUpdateDimensions)}},{key:"render",value:function(){var e=this.state,t=e.width,n=e.height,a=e.leftImgX,r=e.rightImgX,o=e.imgY,s=e.imgWidth,l=e.imgHeight,c=this.props,m=c.classes,h=c.graphicId,d=c.leftImg,g=c.rightImg,p=c.clip,f=p.clipLabel,y={leftX:a,rightX:r,y:o,width:s,height:l},w=function(e,t){var n=e.leftX,a=e.y,i=e.width,r=e.height;return{x:n+t.x*i,y:a+t.y*r,width:t.w*i,height:t.h*r}}(y,Object(u.a)(p,["clipLabel"])),b=0;return t<=512&&(b=Math.max(M.left-w.x,-s/2)),i.a.createElement("svg",{width:t,height:n},i.a.createElement("g",{className:m.container,style:{transform:"translate(".concat(b,"px, 0px)")}},i.a.createElement(S,null),i.a.createElement("g",{id:O(h),style:{filter:"url(#".concat("drop-shadow-filter",")")}},i.a.createElement(T.Image,{dims:y,name:d,leftSide:!0}),i.a.createElement(T.Image,{dims:y,name:g})),i.a.createElement(T.ImageVeil,{dims:y}),i.a.createElement(W,{graphicId:h,dims:w,label:f})))}}]),t}(a.Component),B=m()({container:{transitionDuration:"0.6s"}})(X),U={marginBottom:"70vh",display:"flex"},z={Graphic:{marginBottom:"5vh"},sticky:{position:"sticky",top:0},steps:{WebkitTransform:"translate3d(0, 0, 0)",padding:"0 7vw 110vh 7vw","& > div > div:last-child":{marginBottom:0}},leftStep:Object(b.a)({},U,{justifyContent:"flex-start"}),rightStep:Object(b.a)({},U,{justifyContent:"flex-end"}),stepText:{backgroundColor:"#fff",boxShadow:"0 5px 15px 0 rgba(0,0,0,0.41)",maxWidth:"500px",textAlign:"center",color:"#222",padding:"0.9rem",fontSize:"1.1rem",fontFamily:"Merriweather",fontWeight:400,lineHeight:"1.9rem","& em":{color:"#1875E5",fontWeight:700,fontStyle:"normal"}},"@media (max-width: 767px)":{steps:{padding:"0 5vw 130vh 5vw"}},"@media (max-width: 575px)":{leftStep:{justifyContent:"center"},rightStep:{justifyContent:"center"}}},F=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(i)))).state={clip:{clipLabel:"",x:0,y:0,w:0,h:0}},n.onStepEnter=function(e){var t=e.data,a=(t.text,Object(u.a)(t,["text"]));E(n.state.clip,a)||n.setState({clip:a})},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.clip,t=this.props,n=t.classes,a=t.id,r=t.leftImg,o=t.rightImg,s=t.steps;return i.a.createElement("div",{className:n.Graphic},i.a.createElement("figure",{className:n.sticky},i.a.createElement(B,{graphicId:a,leftImg:r,rightImg:o,clip:e})),i.a.createElement("article",{className:n.steps},i.a.createElement(v.Scrollama,{onStepEnter:this.onStepEnter},s.map(function(e){return i.a.createElement(v.Step,{key:e.text,data:e},i.a.createElement("div",{className:e.x<1?n.rightStep:n.leftStep},i.a.createElement("p",{className:n.stepText,dangerouslySetInnerHTML:{__html:e.text}})))}))))}}]),t}(a.PureComponent),_=m()(z)(F),G=m()({text:{lineHeight:1.9,fontSize:"1.1rem",fontFamily:"Merriweather",margin:"0 auto 1.3rem auto",maxWidth:"650px"}})(function(e){var t,n=e.classes,a=e.text;return t=a,j.test(t)?i.a.createElement("p",{className:n.text,dangerouslySetInnerHTML:{__html:a}}):i.a.createElement("p",{className:n.text},a)}),P=l.a.load("\n[copyAbove]\n\n* In my imagination, the description would be short and basic, something along the lines of \u201cyoungest of three, born on a winter\u2019s night in 1900 in Dong Yang city\u201d. This volume was published in 1920 when my great-grandfather would have only been twenty years old. He had been born in the outskirts of Dongyang city to a farming family that barely earned enough money to send him to school. And so I was skeptical as to whether his family would have even been included in such a polished genealogy book. If my great-grandfather\u2019s family were included in a printed genealogy record, I thought, Columbia University would surely have it. At 20,000 volumes, Columbia University boasts the largest collection of Chinese genealogical records in North America, with records dating as far back as the early 12th century.\n* These <i>Jia pu</i> are a kaleidoscope into everyday life, and each carefully compiled record became a new world that sprawled out in front of me. I was looking for something more fulfilling than standard family trees and ethnic percentages \u2014 I wanted short anecdotes and colorful pictures that narrated how my great-grandfather lived day-to-day. Though I ultimately did not uncover the story of my great-grandparents, unexpected and intriguing stories leapt off each page of the genealogies that I combed through.\n\n[graphics]\n\nleftImg: poem.jpg\nrightImg: women.jpg\n\n[.steps]\n\ntext: These records (known as <i>jia pu</i>) may hold <em>poems that vocalize the ache of missing</em> a beloved family member next to a quiet, moonlit stream centuries ago;\nx: 0.01\ny: 0.01\nw: 0.98\nh: 0.98\n\ntext: This poem is entitled, \u201cWhile staying in the Pei Household I reminisce about an elder of the family\u201d, by Ma Dai.\nx: 0.38\ny: 0.04\nw: 0.2\nh: 0.90\nclipLabel:\n\npoem: Sitting on the lone rock under the tree, there\u2019s light dew between the grass.\nMy heart misses the one who has sat on this rock but they are no longer here.\nBirds soar among the clouds, flying towards the south. The meandering mountain fill the quiet night as the clear, cool stream reflects the moonlight.\nA light drift blowing southward hugs me faithfully. The river and sea reflects each other from afar.\n:end\nx: 0.38\ny: 0.04\nw: 0.2\nh: 0.90\nclipLabel:\n\ntext: They could carry <em>proud accounts of noteworthy women</em> in the family.\nx: 1.01\ny: 0.01\nw: 0.98\nh: 0.98\nclipLabel:\n\n[]\n\nleftImg: ancestral-map.jpg\nrightImg: portraits.jpg\n\n[.steps]\n\ntext: They might map out the <i>fengshui</i> of an <em>ancestral burial site</em> so that future generations may pay their respect to their ancestors.\nx: 0.26\ny: 0.32\nw: 0.48\nh: 0.58\nclipLabel:\n\ntext: And they might provide <em>portraits of the noblemen</em> from whom the family descends.\nx: 1\ny: 0.11\nw: 1\nh: 0.54\nclipLabel:\n\n[]\n\n[copyBelow]\n\n\n\n{}\n"),V=P.copyAbove,Y=P.graphics,J=function(e){return e.map(function(e){var t=e.text,n=e.x,a=e.y,i=e.w,r=e.h,o=e.clipLabel;return{text:I(t),x:+n,y:+a,w:+i,h:+r,clipLabel:o}})},q=m()({App:{margin:"5vh 0"},content:{marginBottom:"2rem",padding:"0 15px"}})(function(e){var t=e.classes;return i.a.createElement("div",{className:t.App},i.a.createElement("div",{className:t.content},V.map(function(e){return i.a.createElement(G,{key:e,text:e})})),Y.map(function(e){var t=e.leftImg,n=e.rightImg,a=e.steps,r=d()();return i.a.createElement(_,{key:r,id:r,leftImg:t,rightImg:n,steps:J(a)})}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},18:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a);t.default=function(e){var t=e.dims,a=e.name,r=e.leftSide,o=void 0!==r&&r,s=t.leftX,l=t.rightX,c=t.y,m=t.width,h=t.height;return i.a.createElement("image",{x:o?s:l,y:c,width:m,height:h,xlinkHref:n(118)("".concat("./imageAssets","/").concat(a))})}},19:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(1),o=n.n(r);t.default=o()({mask:{fill:"#000",fillOpacity:.35}})(function(e){var t=e.classes,n=e.dims,a=n.leftX,r=n.y,o=n.width,s=n.height;return i.a.createElement("rect",{className:t.mask,x:a,y:r,width:2*o,height:s})})},4:function(e,t,n){"use strict";n.r(t);var a=n(18);n.d(t,"Image",function(){return a.default});var i=n(19);n.d(t,"ImageVeil",function(){return i.default})},53:function(e,t,n){e.exports=n(123)}},[[53,1,2]]]);
//# sourceMappingURL=main.ac28aa20.chunk.js.map