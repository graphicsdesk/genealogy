{"version":3,"sources":["components/image sync /^.*$","components/image/imageAssets/ancestral-map.jpg","components/image/imageAssets/portraits.jpg","utils.js","constants.js","components/svg/ShadowFilter.js","components/clip/ClipLabel.js","components/clip/ClipPath.js","components/clip/fadeMovement.js","components/clip/ImageClip.js","components/main/Record.js","components/main/Graphic.js","components/main/App.js","copy.js","serviceWorker.js","index.js","components/image/Image.js","components/image/ImageVeil.js","components/image/index.js"],"names":["map",".","./","./Image","./Image.js","./ImageVeil","./ImageVeil.js","./imageAssets/ancestral-map.jpg","./imageAssets/portraits.jpg","./index","./index.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","p","createIdStore","ids","graphicId","uuidv4","areEqualShallow","a","b","length","every","key","hasOwnProperty","clipId","imageId","ShadowFilter","react_default","createElement","height","in","stdDeviation","dx","dy","result","type","slope","font","styles","frontText","fill","transitionDuration","backText","stroke","strokeWidth","opacity","strokeLinejoin","strokeLinecap","injectSheet","_ref","classes","clipDims","dims","text","x","y","react","assign","className","ClipPath","rx","ry","show","animationDuration","animation","hide","@keyframes fadeIn","from","to","@keyframes fadeOut","fadeMovement","WrappedComponent","FadeComponent","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","transitioning","props","label","inherits","createClass","value","prevProps","_this2","prevDims","prevLabel","_this$props","width","setState","setTimeout","Component","clip_ClipPath","xlinkHref","clipPath","clip_ClipLabel","ASPECT_RATIO","margin","top","right","bottom","left","Record","leftImgX","rightImgX","imgY","imgWidth","imgHeight","updateDimensions","document","body","clientWidth","window","innerHeight","debouncedUpdateDimensions","callback","time","interval","clearTimeout","debounceEvent","addEventListener","removeEventListener","_this$state","leftImg","rightImg","_this$props$clip","clip","clipLabel","imgDims","leftX","rightX","clipFracs","w","h","calculateClipDims","objectWithoutProperties","shiftLeft","container","transform","svg_ShadowFilter","style","filter","components_image","name","leftSide","clip_ImageClip","Graphic","onStepEnter","_ref$data","data","steps","sticky","main_Record","react_scrollama_lib","step","stepText","PureComponent","marginBottom","position","WebkitTransform","padding","backgroundColor","boxShadow","maxWidth","&:last-child","textAlign","color","fontSize","fontFamily","fontWeight","lineHeight","graphics","archieml","load","processSteps","App","_ref2","_ref3","main_Graphic","Boolean","location","hostname","match","ReactDOM","render","main_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Image","_ref$leftSide","require","react_jss__WEBPACK_IMPORTED_MODULE_1__","react_jss__WEBPACK_IMPORTED_MODULE_1___default","mask","fillOpacity","_Image__WEBPACK_IMPORTED_MODULE_0__","d","_ImageVeil__WEBPACK_IMPORTED_MODULE_1__"],"mappings":"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","file":"static/js/main.861c72e7.chunk.js","sourcesContent":["var map = {\n\t\".\": 4,\n\t\"./\": 4,\n\t\"./Image\": 18,\n\t\"./Image.js\": 18,\n\t\"./ImageVeil\": 19,\n\t\"./ImageVeil.js\": 19,\n\t\"./imageAssets/ancestral-map.jpg\": 118,\n\t\"./imageAssets/portraits.jpg\": 119,\n\t\"./index\": 4,\n\t\"./index.js\": 4\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 117;","module.exports = __webpack_public_path__ + \"static/media/ancestral-map.d04420a2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/portraits.c29e8623.jpg\";","import uuidv4 from 'uuid/v4';\n\nexport const createIdStore = () => {\n  const ids = {};\n  return graphicId => {\n    if (!(graphicId in ids)) return (ids[graphicId] = uuidv4());\n    return ids[graphicId];\n  };\n};\n\nexport const calculateClipDims = (imgDims, clipFracs) => {\n  const { leftX, y, width, height } = imgDims;\n  const { x: fracX, y: fracY, w: fracW, h: fracH } = clipFracs;\n  return {\n    x: leftX + fracX * width,\n    y: y + fracY * height,\n    width: fracW * width,\n    height: fracH * height,\n  };\n};\n\n// Source: https://gist.github.com/nmsdvid/8807205#gistcomment-2548862\nexport const debounceEvent = (callback, time) => {\n  let interval;\n  return (...args) => {\n    clearTimeout(interval);\n    interval = setTimeout(() => {\n      interval = null;\n      callback(...args);\n    }, time);\n  };\n};\n\nexport const areEqualShallow = (a, b) =>\n  Object.keys(a).length === Object.keys(b).length &&\n  Object.keys(a).every(key => b.hasOwnProperty(key) && a[key] === b[key]);\n","import { createIdStore } from './utils';\n\nexport const clipId = createIdStore();\nexport const imageId = createIdStore();\n\nexport const shadowId = 'drop-shadow-filter';\n","import React from 'react';\nimport { shadowId } from '../../constants';\n\n// Adapted from https://stackoverflow.com/questions/6088409/svg-drop-shadow-using-css3\nconst ShadowFilter = () => (\n  <filter id={shadowId} height=\"130%\">\n    <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"7\" />\n    <feOffset dx=\"1\" dy=\"8\" result=\"offsetblur\" />\n    <feComponentTransfer>\n      <feFuncA type=\"linear\" slope=\"0.5\" />\n    </feComponentTransfer>\n    <feMerge>\n      <feMergeNode />\n      <feMergeNode in=\"SourceGraphic\" />\n    </feMerge>\n  </filter>\n);\n\nexport default ShadowFilter;\n","import React, { Fragment } from 'react';\nimport injectSheet from 'react-jss';\n\nconst font = '500 1rem \"Atlas Grotesk\"';\nconst styles = {\n  frontText: {\n    font,\n    fill: '#fff',\n    transitionDuration: '0.3s',\n  },\n  backText: {\n    font,\n    stroke: '#333',\n    strokeWidth: 2,\n    opacity: 0.8,\n    strokeLinejoin: 'round',\n    strokeLinecap: 'round',\n  },\n};\n\nconst ClipLabel = ({ classes, dims: clipDims, text }) => {\n  const { x, y, height } = clipDims;\n  const dims = { x, y };\n  if (y > 12) {\n    dims.y -= 10;\n  } else {\n    dims.y += height + 6;\n  }\n\n  return (\n    <Fragment>\n      <text className={classes.backText} {...dims}>\n        {text}\n      </text>\n      <text className={classes.frontText} {...dims}>\n        {text}\n      </text>\n    </Fragment>\n  );\n};\n\nexport default injectSheet(styles)(ClipLabel);\n","import React from 'react';\nimport { clipId } from '../../constants';\n\nconst CORNER_RADIUS = 3;\n\nconst ClipPath = ({ graphicId, dims }) => (\n  <clipPath id={clipId(graphicId)}>\n    <rect {...dims} rx={CORNER_RADIUS} ry={CORNER_RADIUS} />\n  </clipPath>\n);\n\nexport default ClipPath;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport injectSheet from 'react-jss';\nimport { areEqualShallow } from '../../utils';\n\nconst animationDuration = 500;\n\nconst styles = {\n  show: {\n    animationDuration,\n    animation: 'fadeIn',\n  },\n  hide: {\n    animationDuration,\n    animation: 'fadeOut',\n  },\n  '@keyframes fadeIn': {\n    from: { opacity: 0 },\n    to: { opacity: 1 },\n  },\n  '@keyframes fadeOut': {\n    from: { opacity: 1 },\n    to: { opacity: 0 },\n  },\n};\n\nconst fadeMovement = WrappedComponent => {\n  class FadeComponent extends Component {\n    state = {\n      transitioning: true,\n      dims: this.props.dims,\n      label: this.props.label,\n    };\n\n    componentDidUpdate(prevProps) {\n      const { dims: prevDims, label: prevLabel } = prevProps;\n      const { dims, label } = this.props;\n\n      if (areEqualShallow(prevProps.dims, this.props.dims)) {\n        return;\n      }\n      // If dims changed but same label, we can assume the page was resized\n      if (prevLabel === label) {\n        this.setState({ dims });\n        return;\n      }\n\n      // If component has never been shown before, no need to fade out\n      if (prevDims.width + prevDims.height === 0) {\n        this.setState({ transitioning: false, dims, label });\n        return;\n      }\n\n      this.setState({ transitioning: true, dims: prevDims, label: prevLabel });\n      setTimeout(() => {\n        this.setState({ transitioning: false, dims, label });\n      }, animationDuration);\n    }\n\n    render() {\n      const { transitioning } = this.state;\n      const { classes } = this.props;\n      return (\n        <g className={transitioning ? classes.hide : classes.show}>\n          <WrappedComponent {...this.props} {...this.state} />\n        </g>\n      );\n    }\n  }\n\n  FadeComponent.propTypes = {\n    dims: PropTypes.exact({\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired,\n      width: PropTypes.number.isRequired,\n      height: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\n  return injectSheet(styles)(FadeComponent);\n};\n\nexport default fadeMovement;\n","import React, { Fragment } from 'react';\nimport ClipLabel from './ClipLabel';\nimport ClipPath from './ClipPath';\nimport fadeMovement from './fadeMovement';\nimport { clipId, imageId } from '../../constants';\n\nconst ImageClip = ({ graphicId, dims, label }) => (\n  <Fragment>\n    <defs>\n      <ClipPath dims={dims} graphicId={graphicId} />\n    </defs>\n    <use\n      xlinkHref={`#${imageId(graphicId)}`}\n      clipPath={`url(#${clipId(graphicId)})`}\n    />\n    <ClipLabel dims={dims} text={label} />\n  </Fragment>\n);\n\nexport default fadeMovement(ImageClip);\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\nimport { imageId, shadowId } from '../../constants';\nimport { debounceEvent, calculateClipDims } from '../../utils';\n\nimport { ShadowFilter } from '../svg';\nimport { Image, ImageVeil } from '../image';\nimport { ImageClip } from '../clip';\n\nconst ASPECT_RATIO = 1504 / 1024;\nconst DEBOUNCE_TIME = 250;\n\nconst margin = { top: 20, right: 20, bottom: 24, left: 20 };\n\nconst styles = {\n  container: {\n    transitionDuration: '0.6s',\n  },\n};\n\nclass Record extends Component {\n  state = {\n    height: null,\n\n    leftImgX: null,\n    rightImgX: null,\n    imgY: null,\n    imgWidth: null,\n    imgHeight: null,\n  };\n\n  componentDidMount() {\n    setTimeout(() => {\n      // hacky way to wait for document.body.clientWidth to account for scrollbar\n      this.updateDimensions();\n\n      this.debouncedUpdateDimensions = debounceEvent(\n        this.updateDimensions,\n        DEBOUNCE_TIME,\n      );\n      window.addEventListener('resize', this.debouncedUpdateDimensions);\n    }, 0);\n\n    const height = window.innerHeight;\n    this.setState({ height, imgHeight: height - margin.top - margin.bottom });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedUpdateDimensions);\n  }\n\n  updateDimensions = () => {\n    let width = document.body.clientWidth;\n    let height = window.innerHeight;\n\n    let imgHeight = height - margin.top - margin.bottom;\n    let imgWidth = imgHeight / ASPECT_RATIO;\n    let imgY = margin.top;\n\n    if (width > 512) {\n      if (imgWidth * 2 > width) {\n        imgWidth = (width - margin.left - margin.right) / 2;\n      }\n    } else {\n      imgWidth = width - margin.left - margin.right;\n    }\n    imgHeight = imgWidth * ASPECT_RATIO;\n    imgY += (height - margin.top - margin.bottom - imgHeight) / 2;\n\n    this.setState({\n      width,\n      height,\n      leftImgX: width / 2 - imgWidth,\n      rightImgX: width / 2,\n      imgY,\n      imgWidth,\n      imgHeight,\n    });\n  };\n\n  render() {\n    const {\n      width,\n      height,\n      leftImgX,\n      rightImgX,\n      imgY,\n      imgWidth,\n      imgHeight,\n    } = this.state;\n    const {\n      classes,\n      graphicId,\n      leftImg,\n      rightImg,\n      clip: { clipLabel, ...clipFracs },\n    } = this.props;\n\n    const imgDims = {\n      leftX: leftImgX,\n      rightX: rightImgX,\n      y: imgY,\n      width: imgWidth,\n      height: imgHeight,\n    };\n    const clipDims = calculateClipDims(imgDims, clipFracs);\n\n    let shiftLeft = 0;\n    if (width <= 512) {\n      shiftLeft = margin.left - clipDims.x;\n    }\n\n    return (\n      <svg width={width} height={height}>\n        <g\n          className={classes.container}\n          transform={`translate(${shiftLeft}, 0)`}\n        >\n          <ShadowFilter />\n\n          <g id={imageId(graphicId)} style={{ filter: `url(#${shadowId})` }}>\n            <Image dims={imgDims} name={leftImg} leftSide />\n            <Image dims={imgDims} name={rightImg} />\n          </g>\n          <ImageVeil dims={imgDims} />\n\n          <ImageClip graphicId={graphicId} dims={clipDims} label={clipLabel} />\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default injectSheet(styles)(Record);\n","import React, { PureComponent } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\nimport injectSheet from 'react-jss';\nimport Record from './Record';\nimport { areEqualShallow } from '../../utils';\n\nconst styles = {\n  Graphic: {\n    marginBottom: '5vh',\n  },\n  sticky: {\n    position: 'sticky',\n    top: 0,\n  },\n  steps: {\n    WebkitTransform: 'translate3d(0, 0, 0)', // https://stackoverflow.com/questions/16033416/while-scrolling-on-an-ios-device-the-z-index-of-elements-isnt-working\n    padding: '0 5vw 130vh 5vw',\n  },\n  step: {\n    position: 'relative',\n    backgroundColor: '#fff',\n    boxShadow: '0 5px 15px 0 rgba(0,0,0,0.41)',\n    margin: '0 auto 70vh auto',\n    maxWidth: '500px',\n    '&:last-child': {\n      marginBottom: 0,\n    },\n  },\n  stepText: {\n    textAlign: 'center',\n    color: '#222',\n    padding: '1rem',\n    fontSize: '1.1rem',\n    fontFamily: 'Merriweather',\n    fontWeight: 400,\n    lineHeight: '1.9rem',\n  },\n};\n\nclass Graphic extends PureComponent {\n  state = {\n    clip: { clipLabel: '', x: 0, y: 0, w: 0, h: 0 },\n  };\n\n  onStepEnter = ({ data: { text, ...clip } }) => {\n    if (!areEqualShallow(this.state.clip, clip)) {\n      this.setState({ clip });\n    }\n  };\n\n  render() {\n    const { clip } = this.state;\n    const { classes, id, leftImg, rightImg, steps } = this.props;\n\n    return (\n      <div className={classes.Graphic}>\n        <figure className={classes.sticky}>\n          <Record\n            graphicId={id}\n            leftImg={leftImg}\n            rightImg={rightImg}\n            clip={clip}\n          />\n        </figure>\n        <article className={classes.steps}>\n          <Scrollama onStepEnter={this.onStepEnter}>\n            {steps.map(data => (\n              <Step key={data.text} data={data}>\n                <div className={classes.step}>\n                  <p className={classes.stepText}>{data.text}</p>\n                </div>\n              </Step>\n            ))}\n          </Scrollama>\n        </article>\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(styles)(Graphic);\n","import React from 'react';\nimport archieml from 'archieml';\nimport injectSheet from 'react-jss';\nimport uuidv4 from 'uuid/v4';\nimport Graphic from './Graphic';\n\nimport copy from '../../copy';\nconst graphics = archieml.load(copy).graphics;\n\nconst processSteps = steps =>\n  steps.map(({ text, x, y, w, h, clipLabel }) => ({\n    text,\n    x: +x,\n    y: +y,\n    w: +w,\n    h: +h,\n    clipLabel,\n  }));\n\nconst styles = {\n  App: {\n    margin: '70vh 0',\n  },\n};\n\nconst App = ({ classes }) => (\n  <div className={classes.App}>\n    {graphics.map(({ leftImg, rightImg, steps }) => {\n      const id = uuidv4();\n      return (\n        <Graphic\n          key={id}\n          id={id}\n          leftImg={leftImg}\n          rightImg={rightImg}\n          steps={processSteps(steps)}\n        />\n      );\n    })}\n  </div>\n);\n\nexport default injectSheet(styles)(App);\n","export default `\n[graphics]\n\nleftImg: ancestral-map.jpg\nrightImg: portraits.jpg\n\n[.steps]\n\ntext: These records (known as jia pu) held poems that made me feel the warmth of the sun after a spring rain in the high mountains centuries ago;\nx: 1.13\ny: 0.67\nw: 0.27\nh: 0.26\nclipLabel: Elegant poem\n\ntext: They carry proud claims to being descendents of emperors and men of impeccable name and character.\nx: 1.02\ny: 0.12\nw: 0.96\nh: 0.52\nclipLabel: Men wearing vegetables\n\n[]\n\nleftImg: portraits.jpg\nrightImg: ancestral-map.jpg\n\n[.steps]\n\ntext: They spell out instructions from the family about which professions are preferred by the family line.\nx: 1.26\ny: 0.32\nw: 0.48\nh: 0.58\nclipLabel: Treasure map\n\ntext: Or they might provide a detailed account of the heirlooms within your family hundreds of years ago\\u2026\nx: 1.35\ny: 0.14\nw: 0.45\nh: 0.19\nclipLabel: Texts\n\ntext: \\u2026down to the minute decorations on a pair of emerald earrings.\nx: 1.36\ny: 0.14\nw: 0.24\nh: 0.05\nclipLabel:\n\n[]\n\n{}\n`;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/main';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\n\nconst IMGDIR = './imageAssets';\n\nconst Image = ({ dims, name, leftSide = false }) => {\n  const { leftX, rightX, y, width, height } = dims;\n\n  return (\n    <image\n      x={leftSide ? leftX : rightX}\n      y={y}\n      width={width}\n      height={height}\n      xlinkHref={require(`${IMGDIR}/${name}`)}\n    />\n  );\n};\n\nexport default Image;\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  mask: {\n    fill: '#000',\n    fillOpacity: 0.35,\n  },\n};\n\nconst ImageVeil = ({ classes, dims }) => {\n  const { leftX, y, width, height } = dims;\n  return (\n    <rect\n      className={classes.mask}\n      x={leftX}\n      y={y}\n      width={2 * width}\n      height={height}\n    />\n  );\n};\n\nexport default injectSheet(styles)(ImageVeil);\n","export { default as Image } from './Image';\nexport { default as ImageVeil } from './ImageVeil';\n"],"sourceRoot":""}