{"version":3,"sources":["utils.js","components/content/getImage.js","components/content/CoverPhoto.js","components/content/Header.js","components/content/Paragraph.js","components/content/Image.js","components/content/ThematicBreak.js","components/content/Content.js","components/content/TextBlock.js","components/content/PoemBlock.js","constants.js","components/svg/ShadowFilter.js","components/image/Image.js","components/image/ImageVeil.js","components/clip/ClipPath.js","components/clip/fadeMovement.js","components/clip/ImageClip.js","components/main/Record.js","components/main/Graphic.js","components/main/App.js","copy.js","serviceWorker.js","index.js"],"names":["createIdStore","ids","graphicId","uuidv4","areEqualShallow","a","b","Object","keys","length","every","key","hasOwnProperty","unicodify","text","replace","htmlTagRegexp","imageUrls","FairbankLetter.jpg","PortraitOfYuanTungLi.jpg","MicrofilmedforGenealogicalSocietyOfSaltLakeCity.jpg","Cover_Illustration.jpg","getImage","name","injectSheet","container","width","maxWidth","margin","image","marginBottom","caption","fontFamily","fontWeight","fontSize","color","@media (max-width: 991px)","@media (max-width: 680px)","_ref","classes","source","react_default","createElement","className","src","alt","header","title","banner","display","textTransform","borderBottom","headline","lineHeight","meta","textAlign","byline","timestamp","@media (max-width: 575px)","bylines","date","cover","content_CoverPhoto","map","line","substr","dangerouslySetInnerHTML","__html","& a","textDecoration","borderBottomColor","borderBottomWidth","& a:hover","string","test","leftContainer","float","rightContainer","centerContainer","marginLeft","marginRight","@media (max-width: 726px)","containerClass","align","break","height","border","borderTop","padding","copy","content","_ref2","type","value","content_Paragraph","content_ThematicBreak","content_Image","backgroundColor","boxShadow","& em","fontStyle","poem","split","clipId","imageId","ShadowFilter","id","in","stdDeviation","dx","dy","result","slope","poem.jpg","women.jpg","ancestral-map.jpg","portraits.jpg","Image","dims","_ref$leftSide","leftSide","leftX","rightX","y","x","xlinkHref","mask","fill","fillOpacity","ClipPath","assign","rx","ry","styles","show","animationDuration","animation","hide","@keyframes fadeIn","from","opacity","to","@keyframes fadeOut","fadeMovement","WrappedComponent","FadeComponent","_Component","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","transitioning","props","label","inherits","createClass","prevProps","_this2","prevDims","aw","ah","bw","bh","Math","abs","areSimilar","setState","setTimeout","_this$props","objectSpread","Component","react","clip_ClipPath","clipPath","ASPECT_RATIO","top","right","bottom","left","Record","leftImgX","rightImgX","imgY","imgWidth","imgHeight","updateDimensions","document","body","clientWidth","window","innerHeight","debouncedUpdateDimensions","callback","time","interval","clearTimeout","debounceEvent","addEventListener","removeEventListener","_this$state","leftImg","rightImg","_this$props$clip","clip","clipLabel","imgDims","clipDims","clipFracs","w","h","calculateClipDims","objectWithoutProperties","translateX","max","style","transform","svg_ShadowFilter","filter","image_Image","image_ImageVeil","clip_ImageClip","transitionDuration","Graphic","onStepEnter","_ref$data","data","steps","sticky","main_Record","captionContainer","react_scrollama_lib","noBottomMargin","shortStep","step","content_PoemBlock","content_TextBlock","PureComponent","position","WebkitTransform","& > div > div:last-child","justifyContent","marginTop","@media (max-width: 767px)","archieml","load","copyAbove","graphics","copyBelow","processSteps","App","content_Header","content_Content","_ref3","main_Graphic","Boolean","location","hostname","match","ReactDOM","render","main_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.8d2df8e7.chunk.js","sourcesContent":["import uuidv4 from 'uuid/v4';\n\nexport const createIdStore = () => {\n  const ids = {};\n  return graphicId => {\n    if (!(graphicId in ids)) return (ids[graphicId] = uuidv4());\n    return ids[graphicId];\n  };\n};\n\nexport const calculateClipDims = (imgDims, clipFracs) => {\n  const { leftX, y, width, height } = imgDims;\n  const { x: fracX, y: fracY, w: fracW, h: fracH } = clipFracs;\n  return {\n    x: leftX + fracX * width,\n    y: y + fracY * height,\n    width: fracW * width,\n    height: fracH * height,\n  };\n};\n\n// Source: https://gist.github.com/nmsdvid/8807205#gistcomment-2548862\nexport const debounceEvent = (callback, time) => {\n  let interval;\n  return (...args) => {\n    clearTimeout(interval);\n    interval = setTimeout(() => {\n      interval = null;\n      callback(...args);\n    }, time);\n  };\n};\n\nexport const areEqualShallow = (a, b) =>\n  Object.keys(a).length === Object.keys(b).length &&\n  Object.keys(a).every(key => b.hasOwnProperty(key) && a[key] === b[key]);\n\n// Compares two dimension objects\nexport const areSimilar = (a, b) => {\n  const { width: aw, height: ah } = a;\n  const { width: bw, height: bh } = b;\n\n  return Math.abs(ah / aw - bh / bw) < 0.001;\n};\n\n// An extremely limited unicodifier improved on a case-by-case basis\nexport const unicodify = text =>\n  text &&\n  text\n    .replace('“', '\\u201c')\n    .replace('”', '\\u201d')\n    .replace('’', '\\u2019')\n    .replace('‘', '\\u2018')\n    .replace('...', '\\u2026');\n\nconst htmlTagRegexp = /<[a-z][\\s\\S]*>/i;\nexport const hasHTMLElements = string => htmlTagRegexp.test(string);\n","const imageUrls = {\n  'FairbankLetter.jpg': 'https://arc-anglerfish-arc2-prod-spectator.s3.amazonaws.com/public/IZQVNJFKEZHJ5I6C6GFY244T2Y.jpg',\n  'PortraitOfYuanTungLi.jpg': 'https://arc-anglerfish-arc2-prod-spectator.s3.amazonaws.com/public/Y3HDZRHGVBDR7DTZ27LM53QOAY.jpg',\n  'MicrofilmedforGenealogicalSocietyOfSaltLakeCity.jpg': 'https://arc-anglerfish-arc2-prod-spectator.s3.amazonaws.com/public/GMPS4G7JSNGHFJYWYBOMUNEN3A.jpg',\n  'Cover_Illustration.jpg': 'https://arc-anglerfish-arc2-prod-spectator.s3.amazonaws.com/public/KJCRXDTAK5BBRFLGDKJUPJ6RCY.jpg',\n};\n\nexport default name => imageUrls[name];\n","import React from 'react';\nimport injectSheet from 'react-jss';\nimport getImage from './getImage';\n\nconst styles = {\n  container: {\n    width: '75vw',\n    maxWidth: '900px',\n    margin: '0 auto 2rem auto',\n  },\n  image: {\n    width: '100%',\n    marginBottom: '10px',\n  },\n  caption: {\n    fontFamily: 'Atlas Grotesk',\n    fontWeight: 400,\n    fontSize: '0.95rem',\n    color: '#888',\n    margin: 0,\n  },\n  '@media (max-width: 991px)': {\n    container: {\n      width: '80vw',\n    },\n  },\n  '@media (max-width: 680px)': {\n    container: {\n      width: 'auto',\n    },\n  },\n};\n\nconst CoverPhoto = ({ classes, source }) => (\n  <div className={classes.container}>\n    <img className={classes.image} src={getImage(source)} alt={source} />\n  </div>\n);\n\nexport default injectSheet(styles)(CoverPhoto);\n","import React from 'react';\nimport injectSheet from 'react-jss';\nimport CoverPhoto from './CoverPhoto';\n\nconst styles = {\n  header: {\n    marginBottom: '1.3rem',\n  },\n  title: {\n    margin: '0 auto',\n    width: '65vw',\n    maxWidth: '825px',\n  },\n  banner: {\n    display: 'inline-block',\n    textTransform: 'uppercase',\n    fontFamily: 'Open Sans',\n    fontSize: '1.05rem',\n    borderBottom: '2.3px solid #5ec2c2',\n    color: '#5ec2c2',\n    margin: 0,\n    marginBottom: '0.9rem',\n  },\n  headline: {\n    display: 'inline-block',\n    fontFamily: 'Merriweather',\n    fontSize: '2.2rem',\n    lineHeight: 1.5,\n    color: '#333',\n    margin: 0,\n    marginBottom: '1.7rem',\n  },\n  meta: {\n    margin: '0 auto',\n    maxWidth: '650px',\n    textAlign: 'center',\n  },\n  byline: {\n    fontSize: '1.05rem',\n    fontFamily: 'Merriweather',\n    margin: 0,\n    marginBottom: '5px',\n    fontWeight: 900,\n  },\n  timestamp: {\n    fontSize: '0.97rem',\n    fontFamily: 'Atlas Grotesk',\n    color: '#333',\n    margin: 0,\n    textTransform: 'uppercase',\n  },\n  '@media (max-width: 991px)': {\n    title: {\n      width: '90%',\n    },\n  },\n  '@media (max-width: 575px)': {\n    headline: {\n      fontSize: '2rem',\n    },\n  },\n};\n\nconst Header = ({ classes, header }) => {\n  const { headline, bylines, date, cover } = header;\n  return (\n    <div className={classes.header}>\n      <div className={classes.title}>\n        <p className={classes.banner}>The Eye | Features</p>\n        <p className={classes.headline}>{headline}</p>\n      </div>\n      <CoverPhoto source={cover} />\n      <div className={classes.meta}>\n        {bylines.map(line => (\n          <p\n            key={line.substr(0, 100)}\n            className={classes.byline}\n            dangerouslySetInnerHTML={{ __html: line }}\n          />\n        ))}\n        <p className={classes.timestamp}>{date}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(Header);\n","import React from 'react';\nimport injectSheet from 'react-jss';\nimport { hasHTMLElements } from '../../utils';\n\nconst styles = {\n  text: {\n    lineHeight: 1.9,\n    fontSize: '1.1rem',\n    fontFamily: 'Merriweather',\n    margin: '0 auto 1.3rem auto',\n    maxWidth: '650px',\n    '& a': {\n      textDecoration: 'none',\n      color: '#5ec2c2',\n      borderBottomColor: '#5ec2c2',\n      borderBottomWidth: 0,\n    },\n    '& a:hover': {\n      borderBottomWidth: '1px',\n    },\n  },\n};\n\nconst Paragraph = ({ classes, text }) => {\n  if (hasHTMLElements(text))\n    return (\n      <p className={classes.text} dangerouslySetInnerHTML={{ __html: text }} />\n    );\n  return <p className={classes.text}>{text}</p>;\n};\n\nexport default injectSheet(styles)(Paragraph);\n","import React from 'react';\nimport injectSheet from 'react-jss';\nimport getImage from './getImage';\n\nconst styles = {\n  leftContainer: {\n    width: '35vw',\n    margin: '0 1.3rem 0.5rem 10vw',\n    float: 'left',\n    maxWidth: '600px',\n  },\n  rightContainer: {\n    width: '35vw',\n    margin: '0 10vw 0.5rem 1.3rem',\n    float: 'right',\n    maxWidth: '600px',\n  },\n  centerContainer: {\n    width: '70vw',\n    margin: '0 auto 1.3rem auto',\n    maxWidth: '900px',\n  },\n  image: {\n    width: '100%',\n    marginBottom: '10px',\n  },\n  caption: {\n    fontFamily: 'Atlas Grotesk',\n    fontWeight: 400,\n    fontSize: '0.95rem',\n    color: '#888',\n    margin: 0,\n  },\n  '@media (max-width: 991px)': {\n    leftContainer: {\n      width: '45vw',\n      marginLeft: '1.3rem',\n    },\n    rightContainer: {\n      width: '45vw',\n      marginRight: '1.3rem',\n    },\n    centerContainer: {\n      width: '80vw',\n    },\n  },\n  '@media (max-width: 726px)': {\n    leftContainer: { marginLeft: 0 },\n    rightContainer: { marginRight: 0 },\n  },\n  '@media (max-width: 680px)': {\n    centerContainer: {\n      width: 'auto',\n    },\n  },\n  '@media (max-width: 575px)': {\n    leftContainer: {\n      width: 'auto',\n      marginRight: 0,\n    },\n    rightContainer: {\n      width: 'auto',\n      marginLeft: 0,\n    },\n  },\n};\n\nconst Image = ({ classes, source, caption, align }) => {\n  // align mmust be left, right, or center\n  const containerClass = classes[align + 'Container'];\n  return (\n    <div className={containerClass}>\n      <img className={classes.image} src={getImage(source)} alt={caption} />\n      {caption && <p className={classes.caption}>{caption}</p>}\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(Image);\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  break: {\n    display: 'block',\n    height: '0.6px',\n    border: 0,\n    borderTop: '1px solid #ccc',\n    margin: '0 auto',\n    marginBottom: '1.7rem',\n    padding: 0,\n    width: '40vw',\n    maxWidth: '350px',\n  },\n};\n\nconst ThematicBreak = ({ classes, copy }) => <hr className={classes.break} />;\n\nexport default injectSheet(styles)(ThematicBreak);\n","import React from 'react';\nimport injectSheet from 'react-jss';\nimport Paragraph from './Paragraph';\nimport Image from './Image';\nimport ThematicBreak from './ThematicBreak';\n\nconst styles = {\n  content: {\n    marginBottom: '2rem',\n    padding: '0 15px',\n  },\n};\n\nconst Content = ({ classes, copy }) => {\n  return (\n    <div className={classes.content}>\n      {copy.map(({ type, value }) => {\n        switch (type) {\n          case 'text':\n            return <Paragraph key={value} text={value} />;\n          case 'break':\n            return <ThematicBreak key={value} />;\n          case 'image':\n            return (\n              <Image\n                key={value.source}\n                source={value.source}\n                caption={value.caption}\n                align={value.align}\n              />\n            );\n          default:\n            return null;\n        }\n      })}\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(Content);\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  text: {\n    backgroundColor: '#fff',\n    boxShadow: '0 5px 15px 0 rgba(0,0,0,0.41)',\n    maxWidth: '510px',\n    textAlign: 'center',\n    color: '#222',\n    padding: '1.1rem',\n    fontSize: '1.1rem',\n    fontFamily: 'Merriweather',\n    fontWeight: 400,\n    lineHeight: '1.9rem',\n    '& em': {\n      color: '#1875E5',\n      fontWeight: 700,\n      fontStyle: 'normal',\n    },\n  },\n};\n\nconst TextBlock = ({ classes, text }) => {\n  return (\n    <p className={classes.text} dangerouslySetInnerHTML={{ __html: text }} />\n  );\n};\n\nexport default injectSheet(styles)(TextBlock);\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  poem: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    maxWidth: '510px',\n    textAlign: 'center',\n    padding: '0.9rem',\n    color: '#eee',\n    fontSize: '1rem',\n    fontFamily: 'Atlas Grotesk',\n    fontWeight: 500,\n    lineHeight: '1.7rem',\n  },\n  line: {\n    margin: '1rem 0',\n  },\n};\n\nconst PoemBlock = ({ classes, text }) => {\n  return (\n    <div className={classes.poem}>\n      {text.split('\\n').map(line => (\n        <p key={line} className={classes.line}>\n          {line}\n        </p>\n      ))}\n    </div>\n  );\n};\n\nexport default injectSheet(styles)(PoemBlock);\n","import { createIdStore } from './utils';\n\nexport const clipId = createIdStore();\n\nexport const imageId = createIdStore();\n\nexport const shadowId = 'drop-shadow-filter';\n","import React from 'react';\nimport { shadowId } from '../../constants';\n\n// Adapted from https://stackoverflow.com/questions/6088409/svg-drop-shadow-using-css3\nconst ShadowFilter = () => (\n  <filter id={shadowId} height=\"130%\">\n    <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"7\" />\n    <feOffset dx=\"1\" dy=\"8\" result=\"offsetblur\" />\n    <feComponentTransfer>\n      <feFuncA type=\"linear\" slope=\"0.5\" />\n    </feComponentTransfer>\n    <feMerge>\n      <feMergeNode />\n      <feMergeNode in=\"SourceGraphic\" />\n    </feMerge>\n  </filter>\n);\n\nexport default ShadowFilter;\n","import React from 'react';\n\nconst imageUrls = {\n  'poem.jpg': 'https://arc-anglerfish-arc2-prod-spectator.s3.amazonaws.com/public/FGHZIHGLURDEHG3XUPBVMHZG2Q.jpg',\n  'women.jpg': 'https://arc-anglerfish-arc2-prod-spectator.s3.amazonaws.com/public/PWPTOPFN7VA4PC5SZ7D5FI6PGU.jpg',\n  'ancestral-map.jpg': 'https://arc-anglerfish-arc2-prod-spectator.s3.amazonaws.com/public/FST5QKGRDNGRBDG5A2E2LXAC6U.jpg',\n  'portraits.jpg': 'https://arc-anglerfish-arc2-prod-spectator.s3.amazonaws.com/public/YS7N6SV4SFEL5I63PQTXS4GJCI.jpg',\n};\n\nconst Image = ({ dims, name, leftSide = false }) => {\n  const { leftX, rightX, y, width, height } = dims;\n\n  return (\n    <image\n      x={leftSide ? leftX : rightX}\n      y={y}\n      width={width}\n      height={height}\n      xlinkHref={imageUrls[name]}\n    />\n  );\n};\n\nexport default Image;\n","import React from 'react';\nimport injectSheet from 'react-jss';\n\nconst styles = {\n  mask: {\n    fill: '#000',\n    fillOpacity: 0.35,\n  },\n};\n\nconst ImageVeil = ({ classes, dims }) => {\n  const { leftX, y, width, height } = dims;\n  return (\n    <rect\n      className={classes.mask}\n      x={leftX}\n      y={y}\n      width={2 * width}\n      height={height}\n    />\n  );\n};\n\nexport default injectSheet(styles)(ImageVeil);\n","import React from 'react';\nimport { clipId } from '../../constants';\n\nconst CORNER_RADIUS = 3;\n\nconst ClipPath = ({ graphicId, dims }) => (\n  <clipPath id={clipId(graphicId)}>\n    <rect {...dims} rx={CORNER_RADIUS} ry={CORNER_RADIUS} />\n  </clipPath>\n);\n\nexport default ClipPath;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport injectSheet from 'react-jss';\nimport { areEqualShallow, areSimilar } from '../../utils';\n\nconst animationDuration = 500;\n\nconst styles = {\n  show: {\n    animationDuration,\n    animation: 'fadeIn',\n  },\n  hide: {\n    animationDuration,\n    animation: 'fadeOut',\n  },\n  '@keyframes fadeIn': {\n    from: { opacity: 0 },\n    to: { opacity: 1 },\n  },\n  '@keyframes fadeOut': {\n    from: { opacity: 1 },\n    to: { opacity: 0 },\n  },\n};\n\nconst fadeMovement = WrappedComponent => {\n  class FadeComponent extends Component {\n    state = {\n      transitioning: true,\n      dims: this.props.dims,\n      label: this.props.label,\n    };\n\n    componentDidUpdate(prevProps) {\n      const { dims: prevDims } = prevProps;\n      const { dims } = this.props;\n\n      if (areEqualShallow(prevProps.dims, this.props.dims)) {\n        return;\n      }\n      // If label remains the same and we think the highlighting box\n      // changed, we can assume the page was just resized\n      if (areSimilar(prevProps.dims, this.props.dims)) {\n        this.setState({ dims });\n        return;\n      }\n\n      // If previous clip was invisible...\n      if (prevDims.width === 0 && prevDims.height === 0) {\n        // If current clip is visible, it must be the first one we animate.\n        // Thus, we skip the transition-out animation and transition it in.\n        if (dims.width > 0 && dims.height > 0) {\n          this.setState({ transitioning: false, dims });\n        }\n        // If the current clip was not visible, this resize must have been\n        // triggered by a resize/initial dimension processing. Ignore.\n        return;\n      }\n\n      this.setState({ transitioning: true, dims: prevDims });\n      setTimeout(() => {\n        this.setState({ dims }, () => this.setState({ transitioning: false }));\n      }, animationDuration);\n    }\n\n    render() {\n      const { transitioning } = this.state;\n      const { classes, graphicId } = this.props;\n      const dims = {\n        ...this.props.dims,\n        ...this.state.dims,\n      };\n\n      return (\n        <g className={transitioning ? classes.hide : classes.show}>\n          <WrappedComponent dims={dims} graphicId={graphicId} />\n        </g>\n      );\n    }\n  }\n\n  FadeComponent.propTypes = {\n    dims: PropTypes.exact({\n      x: PropTypes.number.isRequired,\n      y: PropTypes.number.isRequired,\n      width: PropTypes.number.isRequired,\n      height: PropTypes.number.isRequired,\n    }).isRequired,\n  };\n\n  return injectSheet(styles)(FadeComponent);\n};\n\nexport default fadeMovement;\n","import React, { Fragment } from 'react';\nimport ClipPath from './ClipPath';\nimport fadeMovement from './fadeMovement';\nimport { clipId, imageId } from '../../constants';\n\nconst ImageClip = ({ graphicId, dims }) => (\n  <Fragment>\n    <defs>\n      <ClipPath dims={dims} graphicId={graphicId} />\n    </defs>\n    <use\n      xlinkHref={`#${imageId(graphicId)}`}\n      clipPath={`url(#${clipId(graphicId)})`}\n    />\n  </Fragment>\n);\n\nexport default fadeMovement(ImageClip);\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\nimport { imageId, shadowId } from '../../constants';\nimport { debounceEvent, calculateClipDims } from '../../utils';\n\nimport { ShadowFilter } from '../svg';\nimport { Image, ImageVeil } from '../image';\nimport { ImageClip } from '../clip';\n\nconst ASPECT_RATIO = 1504 / 1024;\nconst DEBOUNCE_TIME = 250;\n\nconst margin = { top: 70, right: 20, bottom: 24, left: 20 };\n\nconst styles = {\n  container: {\n    transitionDuration: '0.6s',\n  },\n};\n\nclass Record extends Component {\n  state = {\n    height: null,\n\n    leftImgX: null,\n    rightImgX: null,\n    imgY: null,\n    imgWidth: null,\n    imgHeight: null,\n  };\n\n  componentDidMount() {\n    setTimeout(() => {\n      // hacky way to wait for document.body.clientWidth to account for scrollbar\n      this.updateDimensions();\n\n      this.debouncedUpdateDimensions = debounceEvent(\n        this.updateDimensions,\n        DEBOUNCE_TIME,\n      );\n      window.addEventListener('resize', this.debouncedUpdateDimensions);\n    }, 0);\n\n    const height = window.innerHeight;\n    this.setState({ height, imgHeight: height - margin.top - margin.bottom });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedUpdateDimensions);\n  }\n\n  updateDimensions = () => {\n    let width = document.body.clientWidth;\n    let height = window.innerHeight;\n\n    let imgHeight = height - margin.top - margin.bottom;\n    let imgWidth = imgHeight / ASPECT_RATIO;\n    let imgY = margin.top;\n\n    if (width > 512) {\n      if (imgWidth * 2 > width) {\n        imgWidth = (width - margin.left - margin.right) / 2;\n      }\n    } else {\n      imgWidth = width - margin.left - margin.right;\n    }\n    imgHeight = imgWidth * ASPECT_RATIO;\n    imgY += (height - margin.top - margin.bottom - imgHeight) / 2;\n\n    this.setState({\n      width,\n      height,\n      leftImgX: width / 2 - imgWidth,\n      rightImgX: width / 2,\n      imgY,\n      imgWidth,\n      imgHeight,\n    });\n  };\n\n  render() {\n    const {\n      width,\n      height,\n      leftImgX,\n      rightImgX,\n      imgY,\n      imgWidth,\n      imgHeight,\n    } = this.state;\n    const {\n      classes,\n      graphicId,\n      leftImg,\n      rightImg,\n      clip: { clipLabel, ...clipFracs },\n    } = this.props;\n\n    const imgDims = {\n      leftX: leftImgX,\n      rightX: rightImgX,\n      y: imgY,\n      width: imgWidth,\n      height: imgHeight,\n    };\n    const clipDims = calculateClipDims(imgDims, clipFracs);\n\n    let translateX = 0;\n    if (width <= 512) {\n      translateX = Math.max(margin.left - clipDims.x, -imgWidth / 2);\n    }\n\n    return (\n      <svg width={width} height={height}>\n        <g\n          className={classes.container}\n          style={{ transform: `translate(${translateX}px, 0px)` }}\n        >\n          <ShadowFilter />\n\n          <g id={imageId(graphicId)} style={{ filter: `url(#${shadowId})` }}>\n            <Image dims={imgDims} name={leftImg} leftSide />\n            <Image dims={imgDims} name={rightImg} />\n          </g>\n          <ImageVeil dims={imgDims} />\n\n          <ImageClip graphicId={graphicId} dims={clipDims} label={clipLabel} />\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport default injectSheet(styles)(Record);\n","import React, { PureComponent } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\nimport injectSheet from 'react-jss';\nimport { areEqualShallow } from '../../utils';\nimport { TextBlock, PoemBlock } from '../content';\nimport Record from './Record';\n\nconst styles = {\n  Graphic: {\n    marginBottom: '1.7rem',\n  },\n  sticky: {\n    position: 'sticky',\n    top: 0,\n  },\n  steps: {\n    WebkitTransform: 'translate3d(0, 0, 0)', // https://stackoverflow.com/questions/16033416/while-scrolling-on-an-ios-device-the-z-index-of-elements-isnt-working\n    padding: '0 7vw 110vh 7vw',\n    '& > div > div:last-child': {\n      marginBottom: 0, // Remove margin bottom on last className.step\n    },\n  },\n  step: {\n    marginBottom: '70vh',\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  shortStep: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  captionContainer: {\n    marginTop: '0.4rem',\n    padding: '0 15px',\n  },\n  caption: {\n    fontFamily: 'Atlas Grotesk',\n    fontSize: '0.95rem',\n    maxWidth: '650px',\n    margin: '0 auto',\n    color: '#888',\n  },\n  '@media (max-width: 767px)': {\n    steps: { padding: '0 5vw 130vh 5vw' },\n  },\n};\n\nclass Graphic extends PureComponent {\n  state = {\n    clip: { clipLabel: '', x: 0, y: 0, w: 0, h: 0 },\n  };\n\n  onStepEnter = ({ data: { text, ...clip } }) => {\n    if (!areEqualShallow(this.state.clip, clip)) {\n      this.setState({ clip });\n    }\n  };\n\n  render() {\n    const { clip } = this.state;\n    const { classes, id, leftImg, rightImg, steps, caption } = this.props;\n\n    return (\n      <div className={classes.Graphic}>\n        <figure className={classes.sticky}>\n          <Record\n            graphicId={id}\n            leftImg={leftImg}\n            rightImg={rightImg}\n            clip={clip}\n          />\n          {caption && (\n            <div className={classes.captionContainer}>\n              <p className={classes.caption}>{caption}</p>\n            </div>\n          )}\n        </figure>\n        <article className={classes.steps}>\n          <Scrollama onStepEnter={this.onStepEnter}>\n            {steps.map(data => (\n              <Step key={data.text + data.poem} data={data}>\n                <div\n                  className={\n                    data.noBottomMargin ? classes.shortStep : classes.step\n                  }\n                >\n                  {data.poem ? (\n                    <PoemBlock text={data.poem} />\n                  ) : (\n                    <TextBlock text={data.text} />\n                  )}\n                </div>\n              </Step>\n            ))}\n          </Scrollama>\n        </article>\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(styles)(Graphic);\n","import React from 'react';\nimport archieml from 'archieml';\nimport injectSheet from 'react-jss';\nimport uuidv4 from 'uuid/v4';\nimport copy from '../../copy';\nimport { unicodify } from '../../utils';\nimport { Content, Header } from '../content';\nimport Graphic from './Graphic';\n\nconst { header, copyAbove, graphics, copyBelow } = archieml.load(copy);\n\nconst processSteps = steps =>\n  steps.map(({ text, poem, noBottomMargin, x, y, w, h }) => ({\n    text: unicodify(text),\n    noBottomMargin,\n    poem,\n    x: +x,\n    y: +y,\n    w: +w,\n    h: +h,\n  }));\n\nconst styles = {\n  App: {\n    margin: '5vh 0',\n  },\n};\n\nconst App = ({ classes }) => (\n  <div className={classes.App}>\n    <Header header={header} />\n    <Content copy={copyAbove} />\n    {graphics.map(({ leftImg, rightImg, steps, caption }) => {\n      const id = uuidv4();\n      return (\n        <Graphic\n          key={id}\n          id={id}\n          leftImg={leftImg}\n          rightImg={rightImg}\n          steps={processSteps(steps)}\n          caption={caption}\n        />\n      );\n    })}\n    <Content copy={copyBelow} />\n  </div>\n);\n\nexport default injectSheet(styles)(App);\n","export default `\n{header}\n\ndate: March 26, 2019\n\nheadline: Librarians, Scholars, and Spies: How a Trove of Chinese Ancestral Records Found Refuge on Columbia’s Shelves\n\ncover: Cover_Illustration.jpg\n\n[.bylines]\n* By <a href=\"https://www.columbiaspectator.com/contributors/Victoria-Li/\">Victoria Li</a>\n* Graphics by <a href=\"https://www.columbiaspectator.com/contributors/Jason-Kao/\">Jason Kao</a>\n* Illustration by Sam Wilcox\n[]\n\n{}\n\n[+copyAbove]\n\ntext: My fingers run along the rice paper pages as my eyes trace the inked lines for three characters: Yan Ji Ci.\n\ntext: I imagine the description to be short and basic, something along the lines of “youngest of three, born on a winter’s night in 1900 in the city of Dongyang.” This volume was published in 1920, when my great-grandfather would have only been twenty years old. He was born on the outskirts of Dongyang to a farming family that earned barely enough money to send him to school. I’m skeptical as to whether his family would have even been included in such a pretty and formal-looking genealogy book. But if my great-grandfather were included in a printed genealogy, I figure that Columbia University would have it. At 20,000 volumes, Columbia’s C.V. Starr East Asian Library (formerly known as the Chinese Studies Library) boasts the largest collection of <a href=\"https://library.columbia.edu/locations/eastasian/chinese/about.html\">Chinese genealogical records in North America</a>.\n\ntext: Dr. Wang Chengzhi, a bespectacled Chinese studies librarian, seems confident that I will find the genealogy of my great-grandfather here. We sit in a windowless, musty room in the basement of the East Asian Library. A librarian at Columbia for 16 years, Dr. Wang knows the East Asian Library’s archives like the back of his hand. His optimistic energy is infectious, and we eagerly begin combing through Columbia’s online cataloging database for Yan family genealogies. \n\ntext: As we crack open volume after volume, these <i>jia pu</i>—genealogy records—become a kaleidoscope into everyday life, each transforming into a new world that sprawls out in front of me. The precious legacy of Chinese culture and history, these <i>jia pu</i>, are invaluable treasures for scholarship and collective memory. More than 90 years ago, a handful of librarians and scholars risked their lives to save these <i>jia pu</i> during the devastating Sino-Japanese War by sending them to Columbia. \n\ntext: Decades later, these same genealogical records were used by The Church of Jesus Christ of Latter-day Saints (colloquially known as the Mormons) to perform <a href=\"https://www.lds.org/topics/proxy-baptism?lang=eng\">proxy baptism</a>, a ritual in which full immersion baptism is performed in a temple by a living person on behalf of someone who is dead, and in this case, on deceased Chinese ancestors. Columbia, in owning these genealogies, assumes the role of a gatekeeper. The institution not only has ownership over these records, but also has the power to grant access to those who seek them. Though <i>jia pu</i> are ancient, today they still live within the local cultures of communities in China and throughout the Chinese diaspora. \n\ntext: I’ve come to the library looking for something more fulfilling than standard family trees and ethnic percentages—I want short anecdotes and colorful pictures that narrate how my great-grandfather lived day-to-day. In my hunt to find the narrative of my ancestors, unexpected and intriguing stories leap off each page of the genealogies.\n\n[graphics]\n\nleftImg: poem.jpg\nrightImg: women.jpg\n\n[.steps]\n\nx: 0.01\ny: 0.01\nw: 0.98\nh: 0.98\ntext: Strikingly different from the cold number-crunching mechanisms of modern-day western genealogy, <i>jia pu</i> hold poems...\n\nx: 0.38\ny: 0.04\nw: 0.2\nh: 0.90\nnoBottomMargin: true\ntext: ...such as this one (entitled “While staying in the Pei Household I reminisce about an elder of the family”) by Ma Dai:\n\nx: 0.38\ny: 0.04\nw: 0.2\nh: 0.90\npoem: Sitting on the lone rock under the tree, there’s light dew between the grass.\nMy heart misses the one who has sat on this rock but they are no longer here.\nBirds soar among the clouds, flying towards the south. The meandering mountain fill the quiet night as the clear, cool stream reflects the moonlight.\nA light drift blowing southward hugs me faithfully. The river and sea reflects each other from afar.\n:end\n\nx: 1.01\ny: 0.01\nw: 0.98\nh: 0.98\ntext: Some also carry proud accounts of noteworthy women in the family.\n\n[]\n\nleftImg: ancestral-map.jpg\nrightImg: portraits.jpg\ncaption: Taken from Columbia University Libraries\n\n[.steps]\n\ntext: Others spell out the <i>feng shui</i> in an ancestral map so that future generations may pay their respect to their ancestors;\nx: 0.26\ny: 0.32\nw: 0.48\nh: 0.58\n\ntext: and others provide portraits of the noblemen from whom the family descends.\nx: 1\ny: 0.11\nw: 1\nh: 0.54\n\n[]\n\n[+copyBelow]\n\nbreak: ****\n\ntext: When John Fairbank stepped onto the soil of Chongqing, China in 1942, he was assistant to the American ambassador to China by day and special agent for Office of Strategic Services (the precursor to the Central Intelligence Agency) by night. Armed with a Nikon camera and rolls of film, the <a href=\"https://fairbank.fas.harvard.edu/our-mission/john-king-fairbank/\">young Chinese studies scholar’s</a> initial task was to set about compiling books and resources about the Imperial Japanese Army to assist the American war effort. Fairbank found himself befriending a number of Chinese alumni of the <a href=\"http://www.columbia.edu/cu/sls/\">now-defunct</a> Columbia University School of Library Service. \n\nFairbank’s crucial partner was <a href=\"http://www.oxfordreference.com/view/10.1093/oi/authority.20110803125648656\">Yuan Tung-li</a>. Completing a <a href=\"https://timesmachine.nytimes.com/timesmachine/1965/02/07/98452321.html?contentCollection=Archives&module=LedeAsset&region=ArchiveBody&pgtype=article&pageNumber=92\">fellowship</a> at Columbia and later receiving Columbia’s University Medal for Excellence in 1935, Yuan had returned to Beijing the following year to serve as the inaugural Vice President of the National Library of China.\n\n{.image}\nsource: PortraitOfYuanTungLi.jpg\ncaption: Portrait of Yuan Tung-li. Taken from the Historical Photograph Collection at Columbia University Libraries.\nalign: left\n{}\n\ntext: In 1937, the Imperial Japanese Army bombed and <a href=\"http://www.nationalarchives.gov.uk/cabinetpapers/themes/china-japan.htm\">surrounded</a> the Beijing proper. <a href=\"http://big5.gmw.cn/g2b/epaper.gmw.cn/zhdsb/html/2013-03/13/nw.D110000zhdsb_20130313_1-05.htm?div=-1\">Universities</a> across the country found themselves struggling to feed their faculty and students and tensions ran high as the country braced itself for a gruesome war. Yuan had sent hundreds of cartons of rare books from Beijing to Shanghai in 1937. Not long thereafter, Yuan commenced urgent preparation with Fairbank and Yoh Peter Liang-Mu, Columbia School of Library Service alum and librarian at the Shanghai Library, to keep these rare records safe from the destruction of war. \n\ntext: Dr. Wang recounts this improbable story with an excited mix of English and Chinese, sprinkled with animated hand gestures. As I examine another Yan family <i>jia pu</i>, I ask the energetic librarian how Columbia came to own these genealogies. Immediately, Dr. Wang’s eyes light up, and he brandishes a grin so wide and boyishly mischievous that I feel I am glimpsing into the most exciting secret adventure in all the world. \n\ntext: In <a href=\"http://big5.gmw.cn/g2b/epaper.gmw.cn/zhdsb/html/2013-03/13/nw.D110000zhdsb_20130313_1-05.htm?div=-1\">1942</a>, Fairbank, Yuan and Yoh began entreating the American Library Association in hopes of asking the United States Department of State to purchase Chinese rare books and manuscripts in bulk; these documents would all serve the Sino-American war effort. The State Department <a href=\"http://big5.gmw.cn/g2b/epaper.gmw.cn/zhdsb/html/2013-03/13/nw.D110000zhdsb_20130313_1-05.htm?div=-1\">eventually</a> allocated $100,000 (equivalent to $1,300,000 <a href=\"https://www.officialdata.org/us/inflation/1946?amount=100000\">today</a>) to buy select collections of rare Chinese books and manuscripts. The three men spent months curating the collection and devising ways to circumvent Japanese detection by air and by water and ship them to the United States.\n\n{.image}\nsource: FairbankLetter.jpg\ncaption: An original letter Fairbank sent to Columbia in 1943. Provided by Dr. Wang Cheng Zhi of Columbia University Libraries.\nalign: right\n{}\n\ntext: According to Dr. Wang, many of the genealogies in the library arrived at Columbia during these first exchanges. The University was among the first to purchase Confucian classics, contemporary manuscripts, and other rare books from China in 1944. Since Yuan and Yoh were both alumni of the university (Dr. Wang comments with a hint of pride), the president of Columbia Library Services gave them full rein of the transactions and the funds necessary to safely transport the chosen rare books and manuscripts to the shores of New York City. \n\ntext: Unbeknownst to Yuan, Yoh, and Fairbank, however, a few decades later, The Church of Jesus Christ of Latter-day Saints trained their sights on these shipments of genealogies. The Chinese <i>jia pu</i> that these three men worked hard to secure would be repurposed for something far different from what they envisioned.\n\nbreak: ***\n\ntext: As I search for any trace of my great-grandfather in the archives, I notice something peculiar: Many of the genealogies are labeled “microfilmed for the Genealogical Society of Salt Lake City, Utah.” The Society (now known as <a href=\"https://www.familysearch.org/locations/\">FamilySearch</a>) is the genealogy arm of The Church of Latter-day Saints, and has a <a href=\"https://www.wired.com/1999/07/mormons/\">Granite Vault</a> tucked 700 feet deep into the side of a canyon in Utah. For over a century, Family History Centers, a branch of the Church, have actively collected millions of family records. \n\ntext: One of the main tenets of the faith of The Church of Latter-day Saints is proxy baptism—baptism for the dead. The Church <a href=\"https://www.lds.org/general-conference/2012/10/the-joy-of-redeeming-the-dead?lang=eng\">justifies</a> this practice with <a href=\"https://www.lds.org/study/new-era/2009/03/why-do-we-baptize-for-the-dead?lang=eng\">quotes</a> from scripture (“Else what shall they do which are baptized for the dead, if the dead rise not at all?”), claiming that the deceased possess free agency to convert to the Church. The Church has compiled the <a href=\"https://www.familysearch.org/search/collection/igi\">International Genealogical Index</a>, a list of 400 million names who have been baptized or are cleared for the rite. \n\n{.image}\nsource: MicrofilmedforGenealogicalSocietyOfSaltLakeCity.jpg\ncaption: Microfilmed genealogy file showing reproduction for Genealogy Society of Salt Lake City, Utah. Taken from Offsite Collections at Columbia University Libraries.\nalign: center\n{}\n\ntext: The biographical information found in Chinese <i>jia pu</i> allows proxy baptisms to be performed for the deceased ancestors recorded in the genealogies. Collecting these <i>jia pu</i>, then, became a part of the Church’s expansive proselytizing campaign. While I comb through the school’s collection of microfilmed <i>jia pu</i>, I find copies reproduced for the Family History Center as early as 1975. Columbia professor of anthropology Myron Cohen jokes that “[the Church of Latter-day Saints] has probably baptized all of the Chinese people in the genealogies they own by now.” \n\ntext: But <a href=\"https://www.reuters.com/article/us-religion-mormons-baptism/will-pope-benedict-become-a-mormon-after-he-dies-idUSL0218416820070204\">recent</a> <a href=\"https://www.nytimes.com/2003/12/21/nyregion/again-jews-fault-mormons-over-posthumous-baptisms.html\">outcry</a> generated by this practice has not stopped the Church’s momentum. In 2008, the Vatican sent a letter <a href=\"https://www.archbalt.org/vatican-letter-directs-bishops-to-keep-parish-records-from-mormons/\">directing</a> Catholic dioceses all over the world to prohibit Mormons from accessing records contained in parish registers. But as of 2012, the Genealogical Society of Utah has established a <a href=\"http://www.library.sh.cn/Web/news/2012419/n24891739.html\">partnership</a> with the Shanghai Library, which holds the largest collection of Chinese genealogy in the world.\n\ntext: The FamilySearch and the Family History Centers provide a colossal reservoir of records for researchers and amateurs alike. As a research organization, FamilySearch has access to Columbia’s Chinese <i>jia pu</i> collection (FamilySearch explicitly lists many other research institutions <a href=\"https://www.familysearch.org/wiki/en/FamilySearch_Partner_Libraries\">across</a> the country as its partners) to photocopy and duplicate volumes of these rare records for their own uses.\n\ntext: Each record, I realize, may still be the source of pride and joy for a living family in China today. “A written genealogy… represents human behavior,” Cohen offers. In China, renewing one’s family genealogy calls for a seven-day <a href=\"https://www.youtube.com/watch?v=6xrJbO9vSzo\">celebration</a> that involves the entire family and a refurbishment of the family’s ancestral halls. Cohen reminds me that genealogies are just as much about forming a community with people in the present day as they are about reaching an ancient ancestor. “Even here in Chinatown, you have these family associations—the Li family association, the Wang family association— [but] they're not family associations, they focus on a common ancestor that unites lots and lots of families. … There’s a huge genealogical imagination built into local culture,” Cohen muses. \n\ntext: It’s in this moment I feel the full force of how much these <i>jia pu</i> records have come to mean to me, and how invested I now am in the stories and characters living in them. My great-grandfather passed away in 1996 after a long life as a celebrated educator, physicist, and father of six. It wasn’t a lack of information about him that drove me to search for him in the genealogies; my great-grandfather left memoirs and momentos and I have a clamorous band of great-aunts and great-uncles who are eager to share their memories of him. Ever since I was a waddling toddler, I’ve heard stories from my mother about his legacy modernizing physics research in China and his help in founding the Chinese Academy of Sciences.\n\ntext: But I wanted to get to know my great-grandfather beyond all of the accolades and public recognition. This is what drove me to look for him in the tradition of Chinese <i>jia pu</i>: my desire to understand him as a part of a living culture, as one individual embedded in a much larger narrative to which I can also belong. \n\ntext: Yuan, Yoh, and Fairbank, too, saw these records as invaluable documents which should be kept safe and made available to future generations. I ultimately could not find my great-grandfather’s genealogy in the archives of the East Asian Library, but I now recognize how important it may be for someone who’s looking to learn about their ancestors by accessing this collection.\n\ntext: In my last conversation with Dr. Wang, he admits that there is much more work to be done to create a database that can be used to intelligently navigate these records. Currently, the vast genealogical collection at Columbia has not been digitized and is not easily available to the public. There is a scarcity of comprehensive digital databases—private or public—that provide access to Chinese genealogies. Dr. Wang implied that anyone looking to recover their genealogies would have to visit a major library like Shanghai Library or Columbia’s East Asian Library. While nascent genealogy companies like <a href=\"http://www.mychinaroots.com/\">My China Roots</a> are beginning to form, the herculean task of digitizing the genealogies of billions of people remains largely untackled. \n\nPerhaps the next step for the East Asian Library is to bring these records into the 21st century by dedicating resources to digitizing them, and serving as a more vigilant and proactive gatekeeper. Regardless, it is undeniable that the library bore witness to and quietly held these memories for more than a century. In 2013, on the 110th <a href=\"http://big5.gmw.cn/g2b/epaper.gmw.cn/zhdsb/html/2013-03/13/nw.D110000zhdsb_20130313_1-05.htm?div=-1\">anniversary</a> of the East Asian Library, Dr. Wang acknowledged its mission. He <a href=\"http://big5.gmw.cn/g2b/epaper.gmw.cn/zhdsb/html/2013-03/13/nw.D110000zhdsb_20130313_1-05.htm?div=-1\">writes</a>, “...to quietly guard history is the duty of the librarian. We are not looking for fanfare, but we will use simple words to record the salient actions of the celebrated Fairbank and Yuan, and Yoh, who passed away in relative anonymity.” \n\ntext: <i>Editor’s note: Interviews with Dr. Wang were conducted partially in Mandarin. Documents from the C.V. Starr East Asian Library, which all lacked official English translations, were originally written in Classical Chinese. All translations were made by the author, who is fluent in both Mandarin and English and has studied Classical Chinese.</i>\n\ntext: <i>Enjoy leafing through our sixth issue!</i>\n\ntext: <a href=\"https://www.columbiaspectator.com/eye/issue/n/XXVi/5/\">Previous Issue</a> | <a href=\"https://www.columbiaspectator.com/eye/issue/n/XXVi/6/\">More In This Issue</a>\n\n{}\n\n`;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/main';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}